(function(m){"use strict";const t=Math.PI/180;const n=180/Math.PI;const r=1e-6;function a(m,t){return Math.abs(m-t)<=r*Math.max(1,Math.abs(m),Math.abs(t))}function u(m,t,n){n=n||r;return Math.abs(m-t)<=n}function e(m,t,n){return m<t?t:m>n?n:m}function i(m){return m<0?0:m>1?1:m}function o(m){return m!==0&&!(m&m-1)}function s(m,t,n){return m+(t-m)*n}function h(m){return m*t}function c(m){return m*n}const f=Math.random;function M(m,t){return Math.random()*(t-m)+m}function x(m,t){return Math.floor(this.randomRange(m,t))}class y{constructor(m,t){this.x=m;this.y=t}}let z={};z.create=function(){return new y(0,0)};z.new=function(m,t){return new y(m,t)};z.clone=function(m){return new y(m.x,m.y)};z.copy=function(m,t){m.x=t.x;m.y=t.y;return m};z.set=function(m,t,n){m.x=t;m.y=n;return m};z.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;return m};z.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;return m};z.sub=z.subtract;z.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;return m};z.mul=z.multiply;z.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;return m};z.div=z.divide;z.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);return m};z.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);return m};z.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);return m};z.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);return m};z.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);return m};z.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;return m};z.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;return m};z.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y;return Math.sqrt(n*n+r*r)};z.dist=z.distance;z.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y;return n*n+r*r};z.sqrDist=z.squaredDistance;z.length=function(m){let t=m.x,n=m.y;return Math.sqrt(t*t+n*n)};z.len=z.length;z.squaredLength=function(m){let t=m.x,n=m.y;return t*t+n*n};z.sqrLen=z.squaredLength;z.negate=function(m,t){m.x=-t.x;m.y=-t.y;return m};z.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;return m};z.inverseSafe=function(m,t){let n=t.x,a=t.y;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/t.y}return m};z.normalize=function(m,t){let n=t.x,r=t.y;let a=n*n+r*r;if(a>0){a=1/Math.sqrt(a);m.x=t.x*a;m.y=t.y*a}return m};z.dot=function(m,t){return m.x*t.x+m.y*t.y};z.cross=function(m,t,n){let r=t.x*n.y-t.y*n.x;m.x=m.y=0;m.z=r;return m};z.lerp=function(m,t,n,r){let a=t.x,u=t.y;m.x=a+r*(n.x-a);m.y=u+r*(n.y-u);return m};z.random=function(m,t){t=t||1;let n=f()*2*Math.PI;m.x=Math.cos(n)*t;m.y=Math.sin(n)*t;return m};z.transformMat2=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m02*a;m.y=n.m01*r+n.m03*a;return m};z.transformMat23=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m02*a+n.m04;m.y=n.m01*r+n.m03*a+n.m05;return m};z.transformMat3=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m03*a+n.m06;m.y=n.m01*r+n.m04*a+n.m07;return m};z.transformMat4=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m04*a+n.m12;m.y=n.m01*r+n.m05*a+n.m13;return m};z.forEach=function(){let m=z.create();return function(t,n,r,a,u,e){let i,o;if(!n){n=2}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];u(m,m,e);t[i]=m.x;t[i+1]=m.y}return t}}();z.str=function(m){return`vec2(${m.x}, ${m.y})`};z.array=function(m,t){m[0]=t.x;m[1]=t.y;return m};z.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y};z.equals=function(m,t){let n=m.x,a=m.y;let u=t.x,e=t.y;return Math.abs(n-u)<=r*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-e)<=r*Math.max(1,Math.abs(a),Math.abs(e))};class l{constructor(m,t,n){this.x=m;this.y=t;this.z=n}}let w={};w.create=function(){return new l(0,0,0)};w.new=function(m,t,n){return new l(m,t,n)};w.clone=function(m){return new l(m.x,m.y,m.z)};w.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;return m};w.set=function(m,t,n,r){m.x=t;m.y=n;m.z=r;return m};w.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;return m};w.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;return m};w.sub=w.subtract;w.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;return m};w.mul=w.multiply;w.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;return m};w.div=w.divide;w.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);return m};w.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);return m};w.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);return m};w.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);return m};w.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);return m};w.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;return m};w.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;m.z=t.z+n.z*r;return m};w.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z;return Math.sqrt(n*n+r*r+a*a)};w.dist=w.distance;w.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z;return n*n+r*r+a*a};w.sqrDist=w.squaredDistance;w.length=function(m){let t=m.x,n=m.y,r=m.z;return Math.sqrt(t*t+n*n+r*r)};w.len=w.length;w.squaredLength=function(m){let t=m.x,n=m.y,r=m.z;return t*t+n*n+r*r};w.sqrLen=w.squaredLength;w.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;return m};w.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;return m};w.inverseSafe=function(m,t){let n=t.x,a=t.y,u=t.z;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/a}if(Math.abs(u)<r){m.z=0}else{m.z=1/u}return m};w.normalize=function(m,t){let n=t.x,r=t.y,a=t.z;let u=n*n+r*r+a*a;if(u>0){u=1/Math.sqrt(u);m.x=t.x*u;m.y=t.y*u;m.z=t.z*u}return m};w.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z};w.cross=function(m,t,n){let r=t.x,a=t.y,u=t.z,e=n.x,i=n.y,o=n.z;m.x=a*o-u*i;m.y=u*e-r*o;m.z=r*i-a*e;return m};w.lerp=function(m,t,n,r){let a=t.x,u=t.y,e=t.z;m.x=a+r*(n.x-a);m.y=u+r*(n.y-u);m.z=e+r*(n.z-e);return m};w.hermite=function(m,t,n,r,a,u){let e=u*u,i=e*(2*u-3)+1,o=e*(u-2)+u,s=e*(u-1),h=e*(3-2*u);m.x=t.x*i+n.x*o+r.x*s+a.x*h;m.y=t.y*i+n.y*o+r.y*s+a.y*h;m.z=t.z*i+n.z*o+r.z*s+a.z*h;return m};w.bezier=function(m,t,n,r,a,u){let e=1-u,i=e*e,o=u*u,s=i*e,h=3*u*i,c=3*o*e,f=o*u;m.x=t.x*s+n.x*h+r.x*c+a.x*f;m.y=t.y*s+n.y*h+r.y*c+a.y*f;m.z=t.z*s+n.z*h+r.z*c+a.z*f;return m};w.random=function(m,t){t=t||1;let n=f()*2*Math.PI;let r=f()*2-1;let a=Math.sqrt(1-r*r)*t;m.x=Math.cos(n)*a;m.y=Math.sin(n)*a;m.z=r*t;return m};w.transformMat4=function(m,t,n){let r=t.x,a=t.y,u=t.z,e=n.m03*r+n.m07*a+n.m11*u+n.m15;e=e||1;m.x=(n.m00*r+n.m04*a+n.m08*u+n.m12)/e;m.y=(n.m01*r+n.m05*a+n.m09*u+n.m13)/e;m.z=(n.m02*r+n.m06*a+n.m10*u+n.m14)/e;return m};w.transformMat3=function(m,t,n){let r=t.x,a=t.y,u=t.z;m.x=r*n.m00+a*n.m03+u*n.m06;m.y=r*n.m01+a*n.m04+u*n.m07;m.z=r*n.m02+a*n.m05+u*n.m08;return m};w.transformQuat=function(m,t,n){let r=t.x,a=t.y,u=t.z;let e=n.x,i=n.y,o=n.z,s=n.w;let h=s*r+i*u-o*a;let c=s*a+o*r-e*u;let f=s*u+e*a-i*r;let M=-e*r-i*a-o*u;m.x=h*s+M*-e+c*-o-f*-i;m.y=c*s+M*-i+f*-e-h*-o;m.z=f*s+M*-o+h*-i-c*-e;return m};w.rotateX=function(m,t,n,r){let a=[],u=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;u.x=a.x;u.y=a.y*Math.cos(r)-a.z*Math.sin(r);u.z=a.y*Math.sin(r)+a.z*Math.cos(r);m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.rotateY=function(m,t,n,r){let a=[],u=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;u.x=a.z*Math.sin(r)+a.x*Math.cos(r);u.y=a.y;u.z=a.z*Math.cos(r)-a.x*Math.sin(r);m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.rotateZ=function(m,t,n,r){let a=[],u=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;u.x=a.x*Math.cos(r)-a.y*Math.sin(r);u.y=a.x*Math.sin(r)+a.y*Math.cos(r);u.z=a.z;m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.forEach=function(){let m=w.create();return function(t,n,r,a,u,e){let i,o;if(!n){n=3}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];u(m,m,e);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z}return t}}();w.angle=function(){let m=w.create();let t=w.create();return function(n,r){w.copy(m,n);w.copy(t,r);w.normalize(m,m);w.normalize(t,t);let a=w.dot(m,t);if(a>1){return 0}if(a<-1){return Math.PI}return Math.acos(a)}}();w.str=function(m){return`vec3(${m.x}, ${m.y}, ${m.z})`};w.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;return m};w.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z};w.equals=function(m,t){let n=m.x,a=m.y,u=m.z;let e=t.x,i=t.y,o=t.z;return Math.abs(n-e)<=r*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(a-i)<=r*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(u-o)<=r*Math.max(1,Math.abs(u),Math.abs(o))};class b{constructor(m,t,n,r){this.x=m;this.y=t;this.z=n;this.w=r}}let d={};d.create=function(){return new b(0,0,0,0)};d.new=function(m,t,n,r){return new b(m,t,n,r)};d.clone=function(m){return new b(m.x,m.y,m.z,m.w)};d.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;m.w=t.w;return m};d.set=function(m,t,n,r,a){m.x=t;m.y=n;m.z=r;m.w=a;return m};d.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;m.w=t.w+n.w;return m};d.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;m.w=t.w-n.w;return m};d.sub=d.subtract;d.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;m.w=t.w*n.w;return m};d.mul=d.multiply;d.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;m.w=t.w/n.w;return m};d.div=d.divide;d.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);m.w=Math.ceil(t.w);return m};d.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);m.w=Math.floor(t.w);return m};d.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);m.w=Math.min(t.w,n.w);return m};d.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);m.w=Math.max(t.w,n.w);return m};d.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);m.w=Math.round(t.w);return m};d.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;m.w=t.w*n;return m};d.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;m.z=t.z+n.z*r;m.w=t.w+n.w*r;return m};d.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z,u=t.w-m.w;return Math.sqrt(n*n+r*r+a*a+u*u)};d.dist=d.distance;d.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z,u=t.w-m.w;return n*n+r*r+a*a+u*u};d.sqrDist=d.squaredDistance;d.length=function(m){let t=m.x,n=m.y,r=m.z,a=m.w;return Math.sqrt(t*t+n*n+r*r+a*a)};d.len=d.length;d.squaredLength=function(m){let t=m.x,n=m.y,r=m.z,a=m.w;return t*t+n*n+r*r+a*a};d.sqrLen=d.squaredLength;d.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=-t.w;return m};d.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;m.w=1/t.w;return m};d.inverseSafe=function(m,t){let n=t.x,a=t.y,u=t.z,e=t.w;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/a}if(Math.abs(u)<r){m.z=0}else{m.z=1/u}if(Math.abs(e)<r){m.w=0}else{m.w=1/e}return m};d.normalize=function(m,t){let n=t.x,r=t.y,a=t.z,u=t.w;let e=n*n+r*r+a*a+u*u;if(e>0){e=1/Math.sqrt(e);m.x=n*e;m.y=r*e;m.z=a*e;m.w=u*e}return m};d.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z+m.w*t.w};d.lerp=function(m,t,n,r){let a=t.x,u=t.y,e=t.z,i=t.w;m.x=a+r*(n.x-a);m.y=u+r*(n.y-u);m.z=e+r*(n.z-e);m.w=i+r*(n.w-i);return m};d.random=function(m,t){t=t||1;m.x=f();m.y=f();m.z=f();m.w=f();d.normalize(m,m);d.scale(m,m,t);return m};d.transformMat4=function(m,t,n){let r=t.x,a=t.y,u=t.z,e=t.w;m.x=n.m00*r+n.m04*a+n.m08*u+n.m12*e;m.y=n.m01*r+n.m05*a+n.m09*u+n.m13*e;m.z=n.m02*r+n.m06*a+n.m10*u+n.m14*e;m.w=n.m03*r+n.m07*a+n.m11*u+n.m15*e;return m};d.transformQuat=function(m,t,n){let r=t.x,a=t.y,u=t.z;let e=n.x,i=n.y,o=n.z,s=n.w;let h=s*r+i*u-o*a;let c=s*a+o*r-e*u;let f=s*u+e*a-i*r;let M=-e*r-i*a-o*u;m.x=h*s+M*-e+c*-o-f*-i;m.y=c*s+M*-i+f*-e-h*-o;m.z=f*s+M*-o+h*-i-c*-e;m.w=t.w;return m};d.forEach=function(){let m=d.create();return function(t,n,r,a,u,e){let i,o;if(!n){n=4}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];m.w=t[i+3];u(m,m,e);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z;t[i+3]=m.w}return t}}();d.str=function(m){return`vec4(${m.x}, ${m.y}, ${m.z}, ${m.w})`};d.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};d.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z&&m.w===t.w};d.equals=function(m,t){let n=m.x,a=m.y,u=m.z,e=m.w;let i=t.x,o=t.y,s=t.z,h=t.w;return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-o)<=r*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(u-s)<=r*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-h)<=r*Math.max(1,Math.abs(e),Math.abs(h))};class p{constructor(m,t,n,r,a,u,e,i,o){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=u;this.m06=e;this.m07=i;this.m08=o}}let q={};q.create=function(){return new p(1,0,0,0,1,0,0,0,1)};q.new=function(m,t,n,r,a,u,e,i,o){return new p(m,t,n,r,a,u,e,i,o)};q.clone=function(m){return new p(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08)};q.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};q.set=function(m,t,n,r,a,u,e,i,o,s){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=u;m.m05=e;m.m06=i;m.m07=o;m.m08=s;return m};q.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.transpose=function(m,t){if(m===t){let n=t.m01,r=t.m02,a=t.m05;m.m01=t.m03;m.m02=t.m06;m.m03=n;m.m05=t.m07;m.m06=r;m.m07=a}else{m.m00=t.m00;m.m01=t.m03;m.m02=t.m06;m.m03=t.m01;m.m04=t.m04;m.m05=t.m07;m.m06=t.m02;m.m07=t.m05;m.m08=t.m08}return m};q.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08;let c=h*e-i*s;let f=-h*u+i*o;let M=s*u-e*o;let x=n*c+r*f+a*M;if(!x){return null}x=1/x;m.m00=c*x;m.m01=(-h*r+a*s)*x;m.m02=(i*r-a*e)*x;m.m03=f*x;m.m04=(h*n-a*o)*x;m.m05=(-i*n+a*u)*x;m.m06=M*x;m.m07=(-s*n+r*o)*x;m.m08=(e*n-r*u)*x;return m};q.adjoint=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08;m.m00=e*h-i*s;m.m01=a*s-r*h;m.m02=r*i-a*e;m.m03=i*o-u*h;m.m04=n*h-a*o;m.m05=a*u-n*i;m.m06=u*s-e*o;m.m07=r*o-n*s;m.m08=n*e-r*u;return m};q.determinant=function(m){let t=m.m00,n=m.m01,r=m.m02,a=m.m03,u=m.m04,e=m.m05,i=m.m06,o=m.m07,s=m.m08;return t*(s*u-e*o)+n*(-s*a+e*i)+r*(o*a-u*i)};q.multiply=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let f=n.m00,M=n.m01,x=n.m02;let y=n.m03,z=n.m04,l=n.m05;let w=n.m06,b=n.m07,d=n.m08;m.m00=f*r+M*e+x*s;m.m01=f*a+M*i+x*h;m.m02=f*u+M*o+x*c;m.m03=y*r+z*e+l*s;m.m04=y*a+z*i+l*h;m.m05=y*u+z*o+l*c;m.m06=w*r+b*e+d*s;m.m07=w*a+b*i+d*h;m.m08=w*u+b*o+d*c;return m};q.mul=q.multiply;q.translate=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let f=n.x,M=n.y;m.m00=r;m.m01=a;m.m02=u;m.m03=e;m.m04=i;m.m05=o;m.m06=f*r+M*e+s;m.m07=f*a+M*i+h;m.m08=f*u+M*o+c;return m};q.rotate=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let f=Math.sin(n);let M=Math.cos(n);m.m00=M*r+f*e;m.m01=M*a+f*i;m.m02=M*u+f*o;m.m03=M*e-f*r;m.m04=M*i-f*a;m.m05=M*o-f*u;m.m06=s;m.m07=h;m.m08=c;return m};q.scale=function(m,t,n){let r=n.x,a=n.y;m.m00=r*t.m00;m.m01=r*t.m01;m.m02=r*t.m02;m.m03=a*t.m03;m.m04=a*t.m04;m.m05=a*t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};q.fromMat4=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m04;m.m04=t.m05;m.m05=t.m06;m.m06=t.m08;m.m07=t.m09;m.m08=t.m10;return m};q.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=t.x;m.m07=t.y;m.m08=1;return m};q.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=0;m.m03=-n;m.m04=r;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=t.y;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.fromMat2d=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=0;m.m03=t.m02;m.m04=t.m03;m.m05=0;m.m06=t.m04;m.m07=t.m05;m.m08=1;return m};q.fromQuat=function(m,t){let n=t.x,r=t.y,a=t.z,u=t.w;let e=n+n;let i=r+r;let o=a+a;let s=n*e;let h=r*e;let c=r*i;let f=a*e;let M=a*i;let x=a*o;let y=u*e;let z=u*i;let l=u*o;m.m00=1-c-x;m.m03=h-l;m.m06=f+z;m.m01=h+l;m.m04=1-s-x;m.m07=M-y;m.m02=f-z;m.m05=M+y;m.m08=1-s-c;return m};q.fromViewUp=function(){let m=w.new(0,1,0);let t=w.create();let n=w.create();return function(a,u,e){if(w.sqrLen(u)<r*r){q.identity(a);return a}e=e||m;w.cross(t,e,u);if(w.sqrLen(t)<r*r){q.identity(a);return a}w.cross(n,u,t);q.set(a,t.x,t.y,t.z,n.x,n.y,n.z,u.x,u.y,u.z);return a}}();q.normalFromMat4=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-r*e;let b=n*o-a*e;let d=n*s-u*e;let p=r*o-a*i;let q=r*s-u*i;let g=a*s-u*o;let v=h*y-c*x;let A=h*z-f*x;let S=h*l-M*x;let L=c*z-f*y;let D=c*l-M*y;let R=f*l-M*z;let E=w*R-b*D+d*L+p*S-q*A+g*v;if(!E){return null}E=1/E;m.m00=(i*R-o*D+s*L)*E;m.m01=(o*S-e*R-s*A)*E;m.m02=(e*D-i*S+s*v)*E;m.m03=(a*D-r*R-u*L)*E;m.m04=(n*R-a*S+u*A)*E;m.m05=(r*S-n*D-u*v)*E;m.m06=(y*g-z*q+l*p)*E;m.m07=(z*d-x*g-l*b)*E;m.m08=(x*q-y*d+l*w)*E;return m};q.str=function(m){return`mat3(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08})`};q.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;return m};q.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2))};q.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;return m};q.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;return m};q.sub=q.subtract;q.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;return m};q.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;m.m06=t.m06+n.m06*r;m.m07=t.m07+n.m07*r;m.m08=t.m08+n.m08*r;return m};q.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08};q.equals=function(m,t){let n=m.m00,a=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05,s=m.m06,h=m.m07,c=m.m08;let f=t.m00,M=t.m01,x=t.m02,y=t.m03,z=t.m04,l=t.m05,w=t.m06,b=t.m07,d=t.m08;return Math.abs(n-f)<=r*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-M)<=r*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(u-x)<=r*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(e-y)<=r*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(i-z)<=r*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(o-l)<=r*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-w)<=r*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(h-b)<=r*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(c-d)<=r*Math.max(1,Math.abs(c),Math.abs(d))};class g{constructor(m,t,n,r){this.x=m;this.y=t;this.z=n;this.w=r}}let v={};v.create=function(){return new g(0,0,0,1)};v.new=d.new;v.clone=d.clone;v.copy=d.copy;v.set=d.set;v.identity=function(m){m.x=0;m.y=0;m.z=0;m.w=1;return m};v.rotationTo=function(){let m=w.create();let t=w.new(1,0,0);let n=w.new(0,1,0);return function(r,a,u){let e=w.dot(a,u);if(e<-.999999){w.cross(m,t,a);if(w.length(m)<1e-6){w.cross(m,n,a)}w.normalize(m,m);v.fromAxisAngle(r,m,Math.PI);return r}else if(e>.999999){r.x=0;r.y=0;r.z=0;r.w=1;return r}else{w.cross(m,a,u);r.x=m.x;r.y=m.y;r.z=m.z;r.w=1+e;return v.normalize(r,r)}}}();v.getAxisAngle=function(m,t){let n=Math.acos(t.w)*2;let r=Math.sin(n/2);if(r!=0){m.x=t.x/r;m.y=t.y/r;m.z=t.z/r}else{m.x=1;m.y=0;m.z=0}return n};v.add=d.add;v.multiply=function(m,t,n){let r=t.x,a=t.y,u=t.z,e=t.w,i=n.x,o=n.y,s=n.z,h=n.w;m.x=r*h+e*i+a*s-u*o;m.y=a*h+e*o+u*i-r*s;m.z=u*h+e*s+r*o-a*i;m.w=e*h-r*i-a*o-u*s;return m};v.mul=v.multiply;v.scale=d.scale;v.rotateX=function(m,t,n){n*=.5;let r=t.x,a=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o+e*i;m.y=a*o+u*i;m.z=u*o-a*i;m.w=e*o-r*i;return m};v.rotateY=function(m,t,n){n*=.5;let r=t.x,a=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o-u*i;m.y=a*o+e*i;m.z=u*o+r*i;m.w=e*o-a*i;return m};v.rotateZ=function(m,t,n){n*=.5;let r=t.x,a=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o+a*i;m.y=a*o-r*i;m.z=u*o+e*i;m.w=e*o-u*i;return m};v.calculateW=function(m,t){let n=t.x,r=t.y,a=t.z;m.x=n;m.y=r;m.z=a;m.w=Math.sqrt(Math.abs(1-n*n-r*r-a*a));return m};v.dot=d.dot;v.lerp=d.lerp;v.slerp=function(m,t,n,r){let a=t.x,u=t.y,e=t.z,i=t.w,o=n.x,s=n.y,h=n.z,c=n.w;let f,M,x,y,z;M=a*o+u*s+e*h+i*c;if(M<0){M=-M;o=-o;s=-s;h=-h;c=-c}if(1-M>1e-6){f=Math.acos(M);x=Math.sin(f);y=Math.sin((1-r)*f)/x;z=Math.sin(r*f)/x}else{y=1-r;z=r}m.x=y*a+z*o;m.y=y*u+z*s;m.z=y*e+z*h;m.w=y*i+z*c;return m};v.sqlerp=function(){let m=v.create();let t=v.create();return function(n,r,a,u,e,i){v.slerp(m,r,e,i);v.slerp(t,a,u,i);v.slerp(n,m,t,2*i*(1-i));return n}}();v.invert=function(m,t){let n=t.x,r=t.y,a=t.z,u=t.w;let e=n*n+r*r+a*a+u*u;let i=e?1/e:0;m.x=-n*i;m.y=-r*i;m.z=-a*i;m.w=u*i;return m};v.conjugate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=t.w;return m};v.length=d.length;v.len=v.length;v.squaredLength=d.squaredLength;v.sqrLen=v.squaredLength;v.normalize=d.normalize;v.fromAxes=function(){let m=q.create();return function(t,n,r,a){q.set(m,n.x,n.y,n.z,r.x,r.y,r.z,a.x,a.y,a.z);return v.normalize(t,v.fromMat3(t,m))}}();v.fromViewUp=function(){let m=q.create();return function(t,n,r){q.fromViewUp(m,n,r);if(!m){return null}return v.normalize(t,v.fromMat3(t,m))}}();v.fromAxisAngle=function(m,t,n){n=n*.5;let r=Math.sin(n);m.x=r*t.x;m.y=r*t.y;m.z=r*t.z;m.w=Math.cos(n);return m};v.fromMat3=function(m,t){let n=t.m00,r=t.m03,a=t.m06,u=t.m01,e=t.m04,i=t.m07,o=t.m02,s=t.m05,h=t.m08;let c=n+e+h;if(c>0){let t=.5/Math.sqrt(c+1);m.w=.25/t;m.x=(s-i)*t;m.y=(a-o)*t;m.z=(u-r)*t}else if(n>e&&n>h){let t=2*Math.sqrt(1+n-e-h);m.w=(s-i)/t;m.x=.25*t;m.y=(r+u)/t;m.z=(a+o)/t}else if(e>h){let t=2*Math.sqrt(1+e-n-h);m.w=(a-o)/t;m.x=(r+u)/t;m.y=.25*t;m.z=(i+s)/t}else{let t=2*Math.sqrt(1+h-n-e);m.w=(u-r)/t;m.x=(a+o)/t;m.y=(i+s)/t;m.z=.25*t}return m};v.fromEuler=function(m,t,n,r){let a=.5*Math.PI/180;t*=a;n*=a;r*=a;let u=Math.sin(t);let e=Math.cos(t);let i=Math.sin(n);let o=Math.cos(n);let s=Math.sin(r);let h=Math.cos(r);m.x=u*o*h-e*i*s;m.y=e*i*h+u*o*s;m.z=e*o*s-u*i*h;m.w=e*o*h+u*i*s;return m};v.str=function(m){return`quat(${m.x}, ${m.y}, ${m.z}, ${m.w})`};v.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};v.exactEquals=d.exactEquals;v.equals=d.equals;class A{constructor(m,t,n,r){this.m00=m;this.m01=t;this.m02=n;this.m03=r}}let S={};S.create=function(){return new A(1,0,0,1)};S.new=function(m,t,n,r){return new A(m,t,n,r)};S.clone=function(m){return new A(m.m00,m.m01,m.m02,m.m03)};S.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;return m};S.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;return m};S.set=function(m,t,n,r,a){m.m00=t;m.m01=n;m.m02=r;m.m03=a;return m};S.transpose=function(m,t){if(m===t){let n=t.m01;m.m01=t.m02;m.m02=n}else{m.m00=t.m00;m.m01=t.m02;m.m02=t.m01;m.m03=t.m03}return m};S.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03;let e=n*u-a*r;if(!e){return null}e=1/e;m.m00=u*e;m.m01=-r*e;m.m02=-a*e;m.m03=n*e;return m};S.adjoint=function(m,t){let n=t.m00;m.m00=t.m03;m.m01=-t.m01;m.m02=-t.m02;m.m03=n;return m};S.determinant=function(m){return m.m00*m.m03-m.m02*m.m01};S.multiply=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03;let i=n.m00,o=n.m01,s=n.m02,h=n.m03;m.m00=r*i+u*o;m.m01=a*i+e*o;m.m02=r*s+u*h;m.m03=a*s+e*h;return m};S.mul=S.multiply;S.rotate=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=Math.sin(n),o=Math.cos(n);m.m00=r*o+u*i;m.m01=a*o+e*i;m.m02=r*-i+u*o;m.m03=a*-i+e*o;return m};S.scale=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=n.x,o=n.y;m.m00=r*i;m.m01=a*i;m.m02=u*o;m.m03=e*o;return m};S.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=-n;m.m03=r;return m};S.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=t.y;return m};S.str=function(m){return`mat2(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03})`};S.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;return m};S.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2))};S.LDU=function(m,t,n,r){m.m02=r.m02/r.m00;n.m00=r.m00;n.m01=r.m01;n.m03=r.m03-m.m02*n.m01};S.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;return m};S.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;return m};S.sub=S.subtract;S.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03};S.equals=function(m,t){let n=m.m00,a=m.m01,u=m.m02,e=m.m03;let i=t.m00,o=t.m01,s=t.m02,h=t.m03;return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-o)<=r*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(u-s)<=r*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-h)<=r*Math.max(1,Math.abs(e),Math.abs(h))};S.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;return m};S.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;return m};class L{constructor(m,t,n,r,a,u){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=u}}let D={};D.create=function(){return new L(1,0,0,1,0,0)};D.new=function(m,t,n,r,a,u){return new L(m,t,n,r,a,u)};D.clone=function(m){return new L(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05)};D.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;return m};D.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=0;m.m05=0;return m};D.set=function(m,t,n,r,a,u,e){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=u;m.m05=e;return m};D.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05;let o=n*u-r*a;if(!o){return null}o=1/o;m.m00=u*o;m.m01=-r*o;m.m02=-a*o;m.m03=n*o;m.m04=(a*i-u*e)*o;m.m05=(r*e-n*i)*o;return m};D.determinant=function(m){return m.m00*m.m03-m.m01*m.m02};D.multiply=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.m00,h=n.m01,c=n.m02,f=n.m03,M=n.m04,x=n.m05;m.m00=r*s+u*h;m.m01=a*s+e*h;m.m02=r*c+u*f;m.m03=a*c+e*f;m.m04=r*M+u*x+i;m.m05=a*M+e*x+o;return m};D.mul=D.multiply;D.rotate=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=Math.sin(n),h=Math.cos(n);m.m00=r*h+u*s;m.m01=a*h+e*s;m.m02=r*-s+u*h;m.m03=a*-s+e*h;m.m04=i;m.m05=o;return m};D.scale=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.x,h=n.y;m.m00=r*s;m.m01=a*s;m.m02=u*h;m.m03=e*h;m.m04=i;m.m05=o;return m};D.translate=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.x,h=n.y;m.m00=r;m.m01=a;m.m02=u;m.m03=e;m.m04=r*s+u*h+i;m.m05=a*s+e*h+o;return m};D.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=-n;m.m03=r;m.m04=0;m.m05=0;return m};D.fromScaling=function(m,t){m.m00=t.m00;m.m01=0;m.m02=0;m.m03=t.m01;m.m04=0;m.m05=0;return m};D.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=t.x;m.m05=t.y;return m};D.str=function(m){return`mat23(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05})`};D.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;return m};D.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+1)};D.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;return m};D.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;return m};D.sub=D.subtract;D.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;return m};D.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;return m};D.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05};D.equals=function(m,t){let n=m.m00,a=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05;let s=t.m00,h=t.m01,c=t.m02,f=t.m03,M=t.m04,x=t.m05;return Math.abs(n-s)<=r*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-h)<=r*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(u-c)<=r*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(e-f)<=r*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(i-M)<=r*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-x)<=r*Math.max(1,Math.abs(o),Math.abs(x))};class R{constructor(m,t,n,r,a,u,e,i,o,s,h,c,f,M,x,y){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=u;this.m06=e;this.m07=i;this.m08=o;this.m09=s;this.m10=h;this.m11=c;this.m12=f;this.m13=M;this.m14=x;this.m15=y}}let E={};E.create=function(){return new R(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};E.new=function(m,t,n,r,a,u,e,i,o,s,h,c,f,M,x,y){return new R(m,t,n,r,a,u,e,i,o,s,h,c,f,M,x,y)};E.clone=function(m){return new R(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08,m.m09,m.m10,m.m11,m.m12,m.m13,m.m14,m.m15)};E.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};E.set=function(m,t,n,r,a,u,e,i,o,s,h,c,f,M,x,y,z){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=u;m.m05=e;m.m06=i;m.m07=o;m.m08=s;m.m09=h;m.m10=c;m.m11=f;m.m12=M;m.m13=x;m.m14=y;m.m15=z;return m};E.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.transpose=function(m,t){if(m===t){let n=t.m01,r=t.m02,a=t.m03,u=t.m06,e=t.m07,i=t.m11;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=n;m.m06=t.m09;m.m07=t.m13;m.m08=r;m.m09=u;m.m11=t.m14;m.m12=a;m.m13=e;m.m14=i}else{m.m00=t.m00;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=t.m01;m.m05=t.m05;m.m06=t.m09;m.m07=t.m13;m.m08=t.m02;m.m09=t.m06;m.m10=t.m10;m.m11=t.m14;m.m12=t.m03;m.m13=t.m07;m.m14=t.m11;m.m15=t.m15}return m};E.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-r*e;let b=n*o-a*e;let d=n*s-u*e;let p=r*o-a*i;let q=r*s-u*i;let g=a*s-u*o;let v=h*y-c*x;let A=h*z-f*x;let S=h*l-M*x;let L=c*z-f*y;let D=c*l-M*y;let R=f*l-M*z;let E=w*R-b*D+d*L+p*S-q*A+g*v;if(!E){return null}E=1/E;m.m00=(i*R-o*D+s*L)*E;m.m01=(a*D-r*R-u*L)*E;m.m02=(y*g-z*q+l*p)*E;m.m03=(f*q-c*g-M*p)*E;m.m04=(o*S-e*R-s*A)*E;m.m05=(n*R-a*S+u*A)*E;m.m06=(z*d-x*g-l*b)*E;m.m07=(h*g-f*d+M*b)*E;m.m08=(e*D-i*S+s*v)*E;m.m09=(r*S-n*D-u*v)*E;m.m10=(x*q-y*d+l*w)*E;m.m11=(c*d-h*q-M*w)*E;m.m12=(i*A-e*L-o*v)*E;m.m13=(n*L-r*A+a*v)*E;m.m14=(y*b-x*p-z*w)*E;m.m15=(h*p-c*b+f*w)*E;return m};E.adjoint=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;m.m00=i*(f*l-M*z)-c*(o*l-s*z)+y*(o*M-s*f);m.m01=-(r*(f*l-M*z)-c*(a*l-u*z)+y*(a*M-u*f));m.m02=r*(o*l-s*z)-i*(a*l-u*z)+y*(a*s-u*o);m.m03=-(r*(o*M-s*f)-i*(a*M-u*f)+c*(a*s-u*o));m.m04=-(e*(f*l-M*z)-h*(o*l-s*z)+x*(o*M-s*f));m.m05=n*(f*l-M*z)-h*(a*l-u*z)+x*(a*M-u*f);m.m06=-(n*(o*l-s*z)-e*(a*l-u*z)+x*(a*s-u*o));m.m07=n*(o*M-s*f)-e*(a*M-u*f)+h*(a*s-u*o);m.m08=e*(c*l-M*y)-h*(i*l-s*y)+x*(i*M-s*c);m.m09=-(n*(c*l-M*y)-h*(r*l-u*y)+x*(r*M-u*c));m.m10=n*(i*l-s*y)-e*(r*l-u*y)+x*(r*s-u*i);m.m11=-(n*(i*M-s*c)-e*(r*M-u*c)+h*(r*s-u*i));m.m12=-(e*(c*z-f*y)-h*(i*z-o*y)+x*(i*f-o*c));m.m13=n*(c*z-f*y)-h*(r*z-a*y)+x*(r*f-a*c);m.m14=-(n*(i*z-o*y)-e*(r*z-a*y)+x*(r*o-a*i));m.m15=n*(i*f-o*c)-e*(r*f-a*c)+h*(r*o-a*i);return m};E.determinant=function(m){
let t=m.m00,n=m.m01,r=m.m02,a=m.m03,u=m.m04,e=m.m05,i=m.m06,o=m.m07,s=m.m08,h=m.m09,c=m.m10,f=m.m11,M=m.m12,x=m.m13,y=m.m14,z=m.m15;let l=t*e-n*u;let w=t*i-r*u;let b=t*o-a*u;let d=n*i-r*e;let p=n*o-a*e;let q=r*o-a*i;let g=s*x-h*M;let v=s*y-c*M;let A=s*z-f*M;let S=h*y-c*x;let L=h*z-f*x;let D=c*z-f*y;return l*D-w*L+b*S+d*A-p*v+q*g};E.multiply=function(m,t,n){let r=t.m00,a=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08,f=t.m09,M=t.m10,x=t.m11,y=t.m12,z=t.m13,l=t.m14,w=t.m15;let b=n.m00,d=n.m01,p=n.m02,q=n.m03;m.m00=b*r+d*i+p*c+q*y;m.m01=b*a+d*o+p*f+q*z;m.m02=b*u+d*s+p*M+q*l;m.m03=b*e+d*h+p*x+q*w;b=n.m04;d=n.m05;p=n.m06;q=n.m07;m.m04=b*r+d*i+p*c+q*y;m.m05=b*a+d*o+p*f+q*z;m.m06=b*u+d*s+p*M+q*l;m.m07=b*e+d*h+p*x+q*w;b=n.m08;d=n.m09;p=n.m10;q=n.m11;m.m08=b*r+d*i+p*c+q*y;m.m09=b*a+d*o+p*f+q*z;m.m10=b*u+d*s+p*M+q*l;m.m11=b*e+d*h+p*x+q*w;b=n.m12;d=n.m13;p=n.m14;q=n.m15;m.m12=b*r+d*i+p*c+q*y;m.m13=b*a+d*o+p*f+q*z;m.m14=b*u+d*s+p*M+q*l;m.m15=b*e+d*h+p*x+q*w;return m};E.mul=E.multiply;E.translate=function(m,t,n){let r=n.x,a=n.y,u=n.z,e,i,o,s,h,c,f,M,x,y,z,l;if(t===m){m.m12=t.m00*r+t.m04*a+t.m08*u+t.m12;m.m13=t.m01*r+t.m05*a+t.m09*u+t.m13;m.m14=t.m02*r+t.m06*a+t.m10*u+t.m14;m.m15=t.m03*r+t.m07*a+t.m11*u+t.m15}else{e=t.m00;i=t.m01;o=t.m02;s=t.m03;h=t.m04;c=t.m05;f=t.m06;M=t.m07;x=t.m08;y=t.m09;z=t.m10;l=t.m11;m.m00=e;m.m01=i;m.m02=o;m.m03=s;m.m04=h;m.m05=c;m.m06=f;m.m07=M;m.m08=x;m.m09=y;m.m10=z;m.m11=l;m.m12=e*r+h*a+x*u+t.m12;m.m13=i*r+c*a+y*u+t.m13;m.m14=o*r+f*a+z*u+t.m14;m.m15=s*r+M*a+l*u+t.m15}return m};E.scale=function(m,t,n){let r=n.x,a=n.y,u=n.z;m.m00=t.m00*r;m.m01=t.m01*r;m.m02=t.m02*r;m.m03=t.m03*r;m.m04=t.m04*a;m.m05=t.m05*a;m.m06=t.m06*a;m.m07=t.m07*a;m.m08=t.m08*u;m.m09=t.m09*u;m.m10=t.m10*u;m.m11=t.m11*u;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};E.rotate=function(m,t,n,a){let u=a.x,e=a.y,i=a.z;let o,s,h,c,f,M,x,y,z,l,w,b,d,p,q,g,v,A,S,L,D,R,E,I;let P=Math.sqrt(u*u+e*e+i*i);if(Math.abs(P)<r){return null}P=1/P;u*=P;e*=P;i*=P;o=Math.sin(n);s=Math.cos(n);h=1-s;c=t.m00;f=t.m01;M=t.m02;x=t.m03;y=t.m04;z=t.m05;l=t.m06;w=t.m07;b=t.m08;d=t.m09;p=t.m10;q=t.m11;g=u*u*h+s;v=e*u*h+i*o;A=i*u*h-e*o;S=u*e*h-i*o;L=e*e*h+s;D=i*e*h+u*o;R=u*i*h+e*o;E=e*i*h-u*o;I=i*i*h+s;m.m00=c*g+y*v+b*A;m.m01=f*g+z*v+d*A;m.m02=M*g+l*v+p*A;m.m03=x*g+w*v+q*A;m.m04=c*S+y*L+b*D;m.m05=f*S+z*L+d*D;m.m06=M*S+l*L+p*D;m.m07=x*S+w*L+q*D;m.m08=c*R+y*E+b*I;m.m09=f*R+z*E+d*I;m.m10=M*R+l*E+p*I;m.m11=x*R+w*E+q*I;if(t!==m){m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}return m};E.rotateX=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),u=t.m04,e=t.m05,i=t.m06,o=t.m07,s=t.m08,h=t.m09,c=t.m10,f=t.m11;if(t!==m){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m04=u*a+s*r;m.m05=e*a+h*r;m.m06=i*a+c*r;m.m07=o*a+f*r;m.m08=s*a-u*r;m.m09=h*a-e*r;m.m10=c*a-i*r;m.m11=f*a-o*r;return m};E.rotateY=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),u=t.m00,e=t.m01,i=t.m02,o=t.m03,s=t.m08,h=t.m09,c=t.m10,f=t.m11;if(t!==m){m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=u*a-s*r;m.m01=e*a-h*r;m.m02=i*a-c*r;m.m03=o*a-f*r;m.m08=u*r+s*a;m.m09=e*r+h*a;m.m10=i*r+c*a;m.m11=o*r+f*a;return m};E.rotateZ=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),u=t.m00,e=t.m01,i=t.m02,o=t.m03,s=t.m04,h=t.m05,c=t.m06,f=t.m07;if(t!==m){m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=u*a+s*r;m.m01=e*a+h*r;m.m02=i*a+c*r;m.m03=o*a+f*r;m.m04=s*a-u*r;m.m05=h*a-e*r;m.m06=c*a-i*r;m.m07=f*a-o*r;return m};E.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=t.x;m.m13=t.y;m.m14=t.z;m.m15=1;return m};E.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=t.y;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=t.z;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromRotation=function(m,t,n){let a=n.x,u=n.y,e=n.z;let i=Math.sqrt(a*a+u*u+e*e);let o,s,h;if(Math.abs(i)<r){return null}i=1/i;a*=i;u*=i;e*=i;o=Math.sin(t);s=Math.cos(t);h=1-s;m.m00=a*a*h+s;m.m01=u*a*h+e*o;m.m02=e*a*h-u*o;m.m03=0;m.m04=a*u*h-e*o;m.m05=u*u*h+s;m.m06=e*u*h+a*o;m.m07=0;m.m08=a*e*h+u*o;m.m09=u*e*h-a*o;m.m10=e*e*h+s;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromXRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=r;m.m06=n;m.m07=0;m.m08=0;m.m09=-n;m.m10=r;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromYRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=0;m.m02=-n;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=n;m.m09=0;m.m10=r;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromZRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=0;m.m03=0;m.m04=-n;m.m05=r;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromRT=function(m,t,n){let r=t.x,a=t.y,u=t.z,e=t.w;let i=r+r;let o=a+a;let s=u+u;let h=r*i;let c=r*o;let f=r*s;let M=a*o;let x=a*s;let y=u*s;let z=e*i;let l=e*o;let w=e*s;m.m00=1-(M+y);m.m01=c+w;m.m02=f-l;m.m03=0;m.m04=c-w;m.m05=1-(h+y);m.m06=x+z;m.m07=0;m.m08=f+l;m.m09=x-z;m.m10=1-(h+M);m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};E.getTranslation=function(m,t){m.x=t.m12;m.y=t.m13;m.z=t.m14;return m};E.getScaling=function(m,t){let n=t.m00,r=t.m01,a=t.m02,u=t.m04,e=t.m05,i=t.m06,o=t.m08,s=t.m09,h=t.m10;m.x=Math.sqrt(n*n+r*r+a*a);m.y=Math.sqrt(u*u+e*e+i*i);m.z=Math.sqrt(o*o+s*s+h*h);return m};E.getRotation=function(m,t){let n=t.m00+t.m05+t.m10;let r=0;if(n>0){r=Math.sqrt(n+1)*2;m.w=.25*r;m.x=(t.m06-t.m09)/r;m.y=(t.m08-t.m02)/r;m.z=(t.m01-t.m04)/r}else if(t.m00>t.m05&t.m00>t.m10){r=Math.sqrt(1+t.m00-t.m05-t.m10)*2;m.w=(t.m06-t.m09)/r;m.x=.25*r;m.y=(t.m01+t.m04)/r;m.z=(t.m08+t.m02)/r}else if(t.m05>t.m10){r=Math.sqrt(1+t.m05-t.m00-t.m10)*2;m.w=(t.m08-t.m02)/r;m.x=(t.m01+t.m04)/r;m.y=.25*r;m.z=(t.m06+t.m09)/r}else{r=Math.sqrt(1+t.m10-t.m00-t.m05)*2;m.w=(t.m01-t.m04)/r;m.x=(t.m08+t.m02)/r;m.y=(t.m06+t.m09)/r;m.z=.25*r}return m};E.fromRTS=function(m,t,n,r){let a=t.x,u=t.y,e=t.z,i=t.w;let o=a+a;let s=u+u;let h=e+e;let c=a*o;let f=a*s;let M=a*h;let x=u*s;let y=u*h;let z=e*h;let l=i*o;let w=i*s;let b=i*h;let d=r.x;let p=r.y;let q=r.z;m.m00=(1-(x+z))*d;m.m01=(f+b)*d;m.m02=(M-w)*d;m.m03=0;m.m04=(f-b)*p;m.m05=(1-(c+z))*p;m.m06=(y+l)*p;m.m07=0;m.m08=(M+w)*q;m.m09=(y-l)*q;m.m10=(1-(c+x))*q;m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};E.fromRTSOrigin=function(m,t,n,r,a){let u=t.x,e=t.y,i=t.z,o=t.w;let s=u+u;let h=e+e;let c=i+i;let f=u*s;let M=u*h;let x=u*c;let y=e*h;let z=e*c;let l=i*c;let w=o*s;let b=o*h;let d=o*c;let p=r.x;let q=r.y;let g=r.z;let v=a.x;let A=a.y;let S=a.z;m.m00=(1-(y+l))*p;m.m01=(M+d)*p;m.m02=(x-b)*p;m.m03=0;m.m04=(M-d)*q;m.m05=(1-(f+l))*q;m.m06=(z+w)*q;m.m07=0;m.m08=(x+b)*g;m.m09=(z-w)*g;m.m10=(1-(f+y))*g;m.m11=0;m.m12=n.x+v-(m.m00*v+m.m04*A+m.m08*S);m.m13=n.y+A-(m.m01*v+m.m05*A+m.m09*S);m.m14=n.z+S-(m.m02*v+m.m06*A+m.m10*S);m.m15=1;return m};E.fromQuat=function(m,t){let n=t.x,r=t.y,a=t.z,u=t.w;let e=n+n;let i=r+r;let o=a+a;let s=n*e;let h=r*e;let c=r*i;let f=a*e;let M=a*i;let x=a*o;let y=u*e;let z=u*i;let l=u*o;m.m00=1-c-x;m.m01=h+l;m.m02=f-z;m.m03=0;m.m04=h-l;m.m05=1-s-x;m.m06=M+y;m.m07=0;m.m08=f+z;m.m09=M-y;m.m10=1-s-c;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.frustum=function(m,t,n,r,a,u,e){let i=1/(n-t);let o=1/(a-r);let s=1/(u-e);m.m00=u*2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=u*2*o;m.m06=0;m.m07=0;m.m08=(n+t)*i;m.m09=(a+r)*o;m.m10=(e+u)*s;m.m11=-1;m.m12=0;m.m13=0;m.m14=e*u*2*s;m.m15=0;return m};E.perspective=function(m,t,n,r,a){let u=1/Math.tan(t/2);let e=1/(r-a);m.m00=u/n;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=u;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=(a+r)*e;m.m11=-1;m.m12=0;m.m13=0;m.m14=2*a*r*e;m.m15=0;return m};E.perspectiveFromFieldOfView=function(m,t,n,r){let a=Math.tan(t.upDegrees*Math.PI/180);let u=Math.tan(t.downDegrees*Math.PI/180);let e=Math.tan(t.leftDegrees*Math.PI/180);let i=Math.tan(t.rightDegrees*Math.PI/180);let o=2/(e+i);let s=2/(a+u);m.m00=o;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=s;m.m06=0;m.m07=0;m.m08=-((e-i)*o*.5);m.m09=(a-u)*s*.5;m.m10=r/(n-r);m.m11=-1;m.m12=0;m.m13=0;m.m14=r*n/(n-r);m.m15=0;return m};E.ortho=function(m,t,n,r,a,u,e){let i=1/(t-n);let o=1/(r-a);let s=1/(u-e);m.m00=-2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=-2*o;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=2*s;m.m11=0;m.m12=(t+n)*i;m.m13=(a+r)*o;m.m14=(e+u)*s;m.m15=1;return m};E.lookAt=function(m,t,n,a){let u,e,i,o,s,h,c,f,M,x;let y=t.x;let z=t.y;let l=t.z;let w=a.x;let b=a.y;let d=a.z;let p=n.x;let q=n.y;let g=n.z;if(Math.abs(y-p)<r&&Math.abs(z-q)<r&&Math.abs(l-g)<r){return E.identity(m)}c=y-p;f=z-q;M=l-g;x=1/Math.sqrt(c*c+f*f+M*M);c*=x;f*=x;M*=x;u=b*M-d*f;e=d*c-w*M;i=w*f-b*c;x=Math.sqrt(u*u+e*e+i*i);if(!x){u=0;e=0;i=0}else{x=1/x;u*=x;e*=x;i*=x}o=f*i-M*e;s=M*u-c*i;h=c*e-f*u;x=Math.sqrt(o*o+s*s+h*h);if(!x){o=0;s=0;h=0}else{x=1/x;o*=x;s*=x;h*=x}m.m00=u;m.m01=o;m.m02=c;m.m03=0;m.m04=e;m.m05=s;m.m06=f;m.m07=0;m.m08=i;m.m09=h;m.m10=M;m.m11=0;m.m12=-(u*y+e*z+i*l);m.m13=-(o*y+s*z+h*l);m.m14=-(c*y+f*z+M*l);m.m15=1;return m};E.str=function(m){return`mat4(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08}, ${m.m09}, ${m.m10}, ${m.m11}, ${m.m12}, ${m.m13}, ${m.m14}, ${m.m15})`};E.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;m[9]=t.m09;m[10]=t.m10;m[11]=t.m11;m[12]=t.m12;m[13]=t.m13;m[14]=t.m14;m[15]=t.m15;return m};E.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2)+Math.pow(m.m09,2)+Math.pow(m.m10,2)+Math.pow(m.m11,2)+Math.pow(m.m12,2)+Math.pow(m.m13,2)+Math.pow(m.m14,2)+Math.pow(m.m15,2))};E.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;m.m09=t.m09+n.m09;m.m10=t.m10+n.m10;m.m11=t.m11+n.m11;m.m12=t.m12+n.m12;m.m13=t.m13+n.m13;m.m14=t.m14+n.m14;m.m15=t.m15+n.m15;return m};E.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;m.m09=t.m09-n.m09;m.m10=t.m10-n.m10;m.m11=t.m11-n.m11;m.m12=t.m12-n.m12;m.m13=t.m13-n.m13;m.m14=t.m14-n.m14;m.m15=t.m15-n.m15;return m};E.sub=E.subtract;E.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;m.m09=t.m09*n;m.m10=t.m10*n;m.m11=t.m11*n;m.m12=t.m12*n;m.m13=t.m13*n;m.m14=t.m14*n;m.m15=t.m15*n;return m};E.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;m.m06=t.m06+n.m06*r;m.m07=t.m07+n.m07*r;m.m08=t.m08+n.m08*r;m.m09=t.m09+n.m09*r;m.m10=t.m10+n.m10*r;m.m11=t.m11+n.m11*r;m.m12=t.m12+n.m12*r;m.m13=t.m13+n.m13*r;m.m14=t.m14+n.m14*r;m.m15=t.m15+n.m15*r;return m};E.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08&&m.m09===t.m09&&m.m10===t.m10&&m.m11===t.m11&&m.m12===t.m12&&m.m13===t.m13&&m.m14===t.m14&&m.m15===t.m15};E.equals=function(m,t){let n=m.m00,a=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05,s=m.m06,h=m.m07,c=m.m08,f=m.m09,M=m.m10,x=m.m11,y=m.m12,z=m.m13,l=m.m14,w=m.m15;let b=t.m00,d=t.m01,p=t.m02,q=t.m03,g=t.m04,v=t.m05,A=t.m06,S=t.m07,L=t.m08,D=t.m09,R=t.m10,E=t.m11,I=t.m12,P=t.m13,T=t.m14,j=t.m15;return Math.abs(n-b)<=r*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-d)<=r*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(u-p)<=r*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(e-q)<=r*Math.max(1,Math.abs(e),Math.abs(q))&&Math.abs(i-g)<=r*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-v)<=r*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-A)<=r*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(h-S)<=r*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(c-L)<=r*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(f-D)<=r*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(M-R)<=r*Math.max(1,Math.abs(M),Math.abs(R))&&Math.abs(x-E)<=r*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(y-I)<=r*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(z-P)<=r*Math.max(1,Math.abs(z),Math.abs(P))&&Math.abs(l-T)<=r*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(w-j)<=r*Math.max(1,Math.abs(w),Math.abs(j))};m.vec2=z;m.vec3=w;m.vec4=d;m.quat=v;m.mat2=S;m.mat23=D;m.mat3=q;m.mat4=E;m.EPSILON=r;m.equals=a;m.approx=u;m.clamp=e;m.clamp01=i;m.powof2=o;m.lerp=s;m.toRadian=h;m.toDegree=c;m.random=f;m.randomRange=M;m.randomRangeInt=x})(this.vmath=this.vmath||{});
//# sourceMappingURL=./dist/vmath.min.js.map