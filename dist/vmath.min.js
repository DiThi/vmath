(function(m){"use strict";const t=Math.PI/180;const n=180/Math.PI;const r=1e-6;function a(m,t){return Math.abs(m-t)<=r*Math.max(1,Math.abs(m),Math.abs(t))}function e(m,t,n){n=n||r;return Math.abs(m-t)<=n}function u(m,t,n){return m<t?t:m>n?n:m}function i(m){return m<0?0:m>1?1:m}function o(m,t,n){return m+(t-m)*n}function s(m){return m*t}function c(m){return m*n}const h=Math.random;function f(m,t){return Math.random()*(t-m)+m}function M(m,t){return Math.floor(this.randomRange(m,t))}const x=32;const y=2147483647;const z=-1<<x-1;function l(m){return(m>0)-(m<0)}function w(m){let t=m>>x-1;return(m^t)-t}function b(m,t){return t^(m^t)&-(m<t)}function d(m,t){return m^(m^t)&-(m<t)}function p(m){return!(m&m-1)&&!!m}function q(m){let t,n;t=(m>65535)<<4;m>>>=t;n=(m>255)<<3;m>>>=n;t|=n;n=(m>15)<<2;m>>>=n;t|=n;n=(m>3)<<1;m>>>=n;t|=n;return t|m>>1}function g(m){return m>=1e9?9:m>=1e8?8:m>=1e7?7:m>=1e6?6:m>=1e5?5:m>=1e4?4:m>=1e3?3:m>=100?2:m>=10?1:0}function v(m){m=m-(m>>>1&1431655765);m=(m&858993459)+(m>>>2&858993459);return(m+(m>>>4)&252645135)*16843009>>>24}function A(m){let t=32;m&=-m;if(m)t--;if(m&65535)t-=16;if(m&16711935)t-=8;if(m&252645135)t-=4;if(m&858993459)t-=2;if(m&1431655765)t-=1;return t}function S(m){m+=m===0;--m;m|=m>>>1;m|=m>>>2;m|=m>>>4;m|=m>>>8;m|=m>>>16;return m+1}function I(m){m|=m>>>1;m|=m>>>2;m|=m>>>4;m|=m>>>8;m|=m>>>16;return m-(m>>>1)}function L(m){m^=m>>>16;m^=m>>>8;m^=m>>>4;m&=15;return 27030>>>m&1}const D=new Array(256);(function(m){for(let t=0;t<256;++t){let n=t,r=t,a=7;for(n>>>=1;n;n>>>=1){r<<=1;r|=n&1;--a}m[t]=r<<a&255}})(D);function P(m){return D[m&255]<<24|D[m>>>8&255]<<16|D[m>>>16&255]<<8|D[m>>>24&255]}function R(m,t){m&=65535;m=(m|m<<8)&16711935;m=(m|m<<4)&252645135;m=(m|m<<2)&858993459;m=(m|m<<1)&1431655765;t&=65535;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;return m|t<<1}function E(m,t){m=m>>>t&1431655765;m=(m|m>>>1)&858993459;m=(m|m>>>2)&252645135;m=(m|m>>>4)&16711935;m=(m|m>>>16)&65535;return m<<16>>16}function T(m,t,n){m&=1023;m=(m|m<<16)&4278190335;m=(m|m<<8)&251719695;m=(m|m<<4)&3272356035;m=(m|m<<2)&1227133513;t&=1023;t=(t|t<<16)&4278190335;t=(t|t<<8)&251719695;t=(t|t<<4)&3272356035;t=(t|t<<2)&1227133513;m|=t<<1;n&=1023;n=(n|n<<16)&4278190335;n=(n|n<<8)&251719695;n=(n|n<<4)&3272356035;n=(n|n<<2)&1227133513;return m|n<<2}function j(m,t){m=m>>>t&1227133513;m=(m|m>>>2)&3272356035;m=(m|m>>>4)&251719695;m=(m|m>>>8)&4278190335;m=(m|m>>>16)&1023;return m<<22>>22}function N(m){let t=m|m-1;return t+1|(~t&-~t)-1>>>A(m)+1}var X=Object.freeze({INT_BITS:x,INT_MAX:y,INT_MIN:z,sign:l,abs:w,min:b,max:d,isPow2:p,log2:q,log10:g,popCount:v,countTrailingZeros:A,nextPow2:S,prevPow2:I,parity:L,reverse:P,interleave2:R,deinterleave2:E,interleave3:T,deinterleave3:j,nextCombination:N});class Z{constructor(m,t){this.x=m;this.y=t}}let O={};O.create=function(){return new Z(0,0)};O.new=function(m,t){return new Z(m,t)};O.clone=function(m){return new Z(m.x,m.y)};O.copy=function(m,t){m.x=t.x;m.y=t.y;return m};O.set=function(m,t,n){m.x=t;m.y=n;return m};O.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;return m};O.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;return m};O.sub=O.subtract;O.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;return m};O.mul=O.multiply;O.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;return m};O.div=O.divide;O.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);return m};O.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);return m};O.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);return m};O.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);return m};O.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);return m};O.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;return m};O.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;return m};O.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y;return Math.sqrt(n*n+r*r)};O.dist=O.distance;O.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y;return n*n+r*r};O.sqrDist=O.squaredDistance;O.length=function(m){let t=m.x,n=m.y;return Math.sqrt(t*t+n*n)};O.len=O.length;O.squaredLength=function(m){let t=m.x,n=m.y;return t*t+n*n};O.sqrLen=O.squaredLength;O.negate=function(m,t){m.x=-t.x;m.y=-t.y;return m};O.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;return m};O.inverseSafe=function(m,t){let n=t.x,a=t.y;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/t.y}return m};O.normalize=function(m,t){let n=t.x,r=t.y;let a=n*n+r*r;if(a>0){a=1/Math.sqrt(a);m.x=t.x*a;m.y=t.y*a}return m};O.dot=function(m,t){return m.x*t.x+m.y*t.y};O.cross=function(m,t,n){let r=t.x*n.y-t.y*n.x;m.x=m.y=0;m.z=r;return m};O.lerp=function(m,t,n,r){let a=t.x,e=t.y;m.x=a+r*(n.x-a);m.y=e+r*(n.y-e);return m};O.random=function(m,t){t=t||1;let n=h()*2*Math.PI;m.x=Math.cos(n)*t;m.y=Math.sin(n)*t;return m};O.transformMat2=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m02*a;m.y=n.m01*r+n.m03*a;return m};O.transformMat23=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m02*a+n.m04;m.y=n.m01*r+n.m03*a+n.m05;return m};O.transformMat3=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m03*a+n.m06;m.y=n.m01*r+n.m04*a+n.m07;return m};O.transformMat4=function(m,t,n){let r=t.x,a=t.y;m.x=n.m00*r+n.m04*a+n.m12;m.y=n.m01*r+n.m05*a+n.m13;return m};O.forEach=function(){let m=O.create();return function(t,n,r,a,e,u){let i,o;if(!n){n=2}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];e(m,m,u);t[i]=m.x;t[i+1]=m.y}return t}}();O.str=function(m){return`vec2(${m.x}, ${m.y})`};O.array=function(m,t){m[0]=t.x;m[1]=t.y;return m};O.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y};O.equals=function(m,t){let n=m.x,a=m.y;let e=t.x,u=t.y;return Math.abs(n-e)<=r*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(a-u)<=r*Math.max(1,Math.abs(a),Math.abs(u))};class Q{constructor(m,t,n){this.x=m;this.y=t;this.z=n}}let U={};U.create=function(){return new Q(0,0,0)};U.new=function(m,t,n){return new Q(m,t,n)};U.clone=function(m){return new Q(m.x,m.y,m.z)};U.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;return m};U.set=function(m,t,n,r){m.x=t;m.y=n;m.z=r;return m};U.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;return m};U.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;return m};U.sub=U.subtract;U.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;return m};U.mul=U.multiply;U.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;return m};U.div=U.divide;U.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);return m};U.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);return m};U.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);return m};U.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);return m};U.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);return m};U.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;return m};U.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;m.z=t.z+n.z*r;return m};U.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z;return Math.sqrt(n*n+r*r+a*a)};U.dist=U.distance;U.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z;return n*n+r*r+a*a};U.sqrDist=U.squaredDistance;U.length=function(m){let t=m.x,n=m.y,r=m.z;return Math.sqrt(t*t+n*n+r*r)};U.len=U.length;U.squaredLength=function(m){let t=m.x,n=m.y,r=m.z;return t*t+n*n+r*r};U.sqrLen=U.squaredLength;U.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;return m};U.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;return m};U.inverseSafe=function(m,t){let n=t.x,a=t.y,e=t.z;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/a}if(Math.abs(e)<r){m.z=0}else{m.z=1/e}return m};U.normalize=function(m,t){let n=t.x,r=t.y,a=t.z;let e=n*n+r*r+a*a;if(e>0){e=1/Math.sqrt(e);m.x=t.x*e;m.y=t.y*e;m.z=t.z*e}return m};U.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z};U.cross=function(m,t,n){let r=t.x,a=t.y,e=t.z,u=n.x,i=n.y,o=n.z;m.x=a*o-e*i;m.y=e*u-r*o;m.z=r*i-a*u;return m};U.lerp=function(m,t,n,r){let a=t.x,e=t.y,u=t.z;m.x=a+r*(n.x-a);m.y=e+r*(n.y-e);m.z=u+r*(n.z-u);return m};U.hermite=function(m,t,n,r,a,e){let u=e*e,i=u*(2*e-3)+1,o=u*(e-2)+e,s=u*(e-1),c=u*(3-2*e);m.x=t.x*i+n.x*o+r.x*s+a.x*c;m.y=t.y*i+n.y*o+r.y*s+a.y*c;m.z=t.z*i+n.z*o+r.z*s+a.z*c;return m};U.bezier=function(m,t,n,r,a,e){let u=1-e,i=u*u,o=e*e,s=i*u,c=3*e*i,h=3*o*u,f=o*e;m.x=t.x*s+n.x*c+r.x*h+a.x*f;m.y=t.y*s+n.y*c+r.y*h+a.y*f;m.z=t.z*s+n.z*c+r.z*h+a.z*f;return m};U.random=function(m,t){t=t||1;let n=h()*2*Math.PI;let r=h()*2-1;let a=Math.sqrt(1-r*r)*t;m.x=Math.cos(n)*a;m.y=Math.sin(n)*a;m.z=r*t;return m};U.transformMat4=function(m,t,n){let r=t.x,a=t.y,e=t.z,u=n.m03*r+n.m07*a+n.m11*e+n.m15;u=u||1;m.x=(n.m00*r+n.m04*a+n.m08*e+n.m12)/u;m.y=(n.m01*r+n.m05*a+n.m09*e+n.m13)/u;m.z=(n.m02*r+n.m06*a+n.m10*e+n.m14)/u;return m};U.transformMat3=function(m,t,n){let r=t.x,a=t.y,e=t.z;m.x=r*n.m00+a*n.m03+e*n.m06;m.y=r*n.m01+a*n.m04+e*n.m07;m.z=r*n.m02+a*n.m05+e*n.m08;return m};U.transformQuat=function(m,t,n){let r=t.x,a=t.y,e=t.z;let u=n.x,i=n.y,o=n.z,s=n.w;let c=s*r+i*e-o*a;let h=s*a+o*r-u*e;let f=s*e+u*a-i*r;let M=-u*r-i*a-o*e;m.x=c*s+M*-u+h*-o-f*-i;m.y=h*s+M*-i+f*-u-c*-o;m.z=f*s+M*-o+c*-i-h*-u;return m};U.rotateX=function(m,t,n,r){let a=[],e=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;e.x=a.x;e.y=a.y*Math.cos(r)-a.z*Math.sin(r);e.z=a.y*Math.sin(r)+a.z*Math.cos(r);m.x=e.x+n.x;m.y=e.y+n.y;m.z=e.z+n.z;return m};U.rotateY=function(m,t,n,r){let a=[],e=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;e.x=a.z*Math.sin(r)+a.x*Math.cos(r);e.y=a.y;e.z=a.z*Math.cos(r)-a.x*Math.sin(r);m.x=e.x+n.x;m.y=e.y+n.y;m.z=e.z+n.z;return m};U.rotateZ=function(m,t,n,r){let a=[],e=[];a.x=t.x-n.x;a.y=t.y-n.y;a.z=t.z-n.z;e.x=a.x*Math.cos(r)-a.y*Math.sin(r);e.y=a.x*Math.sin(r)+a.y*Math.cos(r);e.z=a.z;m.x=e.x+n.x;m.y=e.y+n.y;m.z=e.z+n.z;return m};U.forEach=function(){let m=U.create();return function(t,n,r,a,e,u){let i,o;if(!n){n=3}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];e(m,m,u);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z}return t}}();U.angle=function(){let m=U.create();let t=U.create();return function(n,r){U.copy(m,n);U.copy(t,r);U.normalize(m,m);U.normalize(t,t);let a=U.dot(m,t);if(a>1){return 0}if(a<-1){return Math.PI}return Math.acos(a)}}();U.str=function(m){return`vec3(${m.x}, ${m.y}, ${m.z})`};U.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;return m};U.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z};U.equals=function(m,t){let n=m.x,a=m.y,e=m.z;let u=t.x,i=t.y,o=t.z;return Math.abs(n-u)<=r*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=r*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-o)<=r*Math.max(1,Math.abs(e),Math.abs(o))};class V{constructor(m,t,n,r){this.x=m;this.y=t;this.z=n;this.w=r}}let Y={};Y.create=function(){return new V(0,0,0,0)};Y.new=function(m,t,n,r){return new V(m,t,n,r)};Y.clone=function(m){return new V(m.x,m.y,m.z,m.w)};Y.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;m.w=t.w;return m};Y.set=function(m,t,n,r,a){m.x=t;m.y=n;m.z=r;m.w=a;return m};Y.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;m.w=t.w+n.w;return m};Y.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;m.w=t.w-n.w;return m};Y.sub=Y.subtract;Y.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;m.w=t.w*n.w;return m};Y.mul=Y.multiply;Y.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;m.w=t.w/n.w;return m};Y.div=Y.divide;Y.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);m.w=Math.ceil(t.w);return m};Y.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);m.w=Math.floor(t.w);return m};Y.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);m.w=Math.min(t.w,n.w);return m};Y.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);m.w=Math.max(t.w,n.w);return m};Y.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);m.w=Math.round(t.w);return m};Y.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;m.w=t.w*n;return m};Y.scaleAndAdd=function(m,t,n,r){m.x=t.x+n.x*r;m.y=t.y+n.y*r;m.z=t.z+n.z*r;m.w=t.w+n.w*r;return m};Y.distance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z,e=t.w-m.w;return Math.sqrt(n*n+r*r+a*a+e*e)};Y.dist=Y.distance;Y.squaredDistance=function(m,t){let n=t.x-m.x,r=t.y-m.y,a=t.z-m.z,e=t.w-m.w;return n*n+r*r+a*a+e*e};Y.sqrDist=Y.squaredDistance;Y.length=function(m){let t=m.x,n=m.y,r=m.z,a=m.w;return Math.sqrt(t*t+n*n+r*r+a*a)};Y.len=Y.length;Y.squaredLength=function(m){let t=m.x,n=m.y,r=m.z,a=m.w;return t*t+n*n+r*r+a*a};Y.sqrLen=Y.squaredLength;Y.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=-t.w;return m};Y.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;m.w=1/t.w;return m};Y.inverseSafe=function(m,t){let n=t.x,a=t.y,e=t.z,u=t.w;if(Math.abs(n)<r){m.x=0}else{m.x=1/n}if(Math.abs(a)<r){m.y=0}else{m.y=1/a}if(Math.abs(e)<r){m.z=0}else{m.z=1/e}if(Math.abs(u)<r){m.w=0}else{m.w=1/u}return m};Y.normalize=function(m,t){let n=t.x,r=t.y,a=t.z,e=t.w;let u=n*n+r*r+a*a+e*e;if(u>0){u=1/Math.sqrt(u);m.x=n*u;m.y=r*u;m.z=a*u;m.w=e*u}return m};Y.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z+m.w*t.w};Y.lerp=function(m,t,n,r){let a=t.x,e=t.y,u=t.z,i=t.w;m.x=a+r*(n.x-a);m.y=e+r*(n.y-e);m.z=u+r*(n.z-u);m.w=i+r*(n.w-i);return m};Y.random=function(m,t){t=t||1;m.x=h();m.y=h();m.z=h();m.w=h();Y.normalize(m,m);Y.scale(m,m,t);return m};Y.transformMat4=function(m,t,n){let r=t.x,a=t.y,e=t.z,u=t.w;m.x=n.m00*r+n.m04*a+n.m08*e+n.m12*u;m.y=n.m01*r+n.m05*a+n.m09*e+n.m13*u;m.z=n.m02*r+n.m06*a+n.m10*e+n.m14*u;m.w=n.m03*r+n.m07*a+n.m11*e+n.m15*u;return m};Y.transformQuat=function(m,t,n){let r=t.x,a=t.y,e=t.z;let u=n.x,i=n.y,o=n.z,s=n.w;let c=s*r+i*e-o*a;let h=s*a+o*r-u*e;let f=s*e+u*a-i*r;let M=-u*r-i*a-o*e;m.x=c*s+M*-u+h*-o-f*-i;m.y=h*s+M*-i+f*-u-c*-o;m.z=f*s+M*-o+c*-i-h*-u;m.w=t.w;return m};Y.forEach=function(){let m=Y.create();return function(t,n,r,a,e,u){let i,o;if(!n){n=4}if(!r){r=0}if(a){o=Math.min(a*n+r,t.length)}else{o=t.length}for(i=r;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];m.w=t[i+3];e(m,m,u);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z;t[i+3]=m.w}return t}}();Y.str=function(m){return`vec4(${m.x}, ${m.y}, ${m.z}, ${m.w})`};Y.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};Y.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z&&m.w===t.w};Y.equals=function(m,t){let n=m.x,a=m.y,e=m.z,u=m.w;let i=t.x,o=t.y,s=t.z,c=t.w;return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-o)<=r*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(e-s)<=r*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=r*Math.max(1,Math.abs(u),Math.abs(c))};class F{constructor(m,t,n,r,a,e,u,i,o){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=e;this.m06=u;this.m07=i;this.m08=o}}let _={};_.create=function(){return new F(1,0,0,0,1,0,0,0,1)};_.new=function(m,t,n,r,a,e,u,i,o){return new F(m,t,n,r,a,e,u,i,o)};_.clone=function(m){return new F(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08)};_.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};_.set=function(m,t,n,r,a,e,u,i,o,s){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=e;m.m05=u;m.m06=i;m.m07=o;m.m08=s;return m};_.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};_.transpose=function(m,t){if(m===t){let n=t.m01,r=t.m02,a=t.m05;m.m01=t.m03;m.m02=t.m06;m.m03=n;m.m05=t.m07;m.m06=r;m.m07=a}else{m.m00=t.m00;m.m01=t.m03;m.m02=t.m06;m.m03=t.m01;m.m04=t.m04;m.m05=t.m07;m.m06=t.m02;m.m07=t.m05;m.m08=t.m08}return m};_.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05,o=t.m06,s=t.m07,c=t.m08;let h=c*u-i*s;let f=-c*e+i*o;let M=s*e-u*o;let x=n*h+r*f+a*M;if(!x){return null}x=1/x;m.m00=h*x;m.m01=(-c*r+a*s)*x;m.m02=(i*r-a*u)*x;m.m03=f*x;m.m04=(c*n-a*o)*x;m.m05=(-i*n+a*e)*x;m.m06=M*x;m.m07=(-s*n+r*o)*x;m.m08=(u*n-r*e)*x;return m};_.adjoint=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05,o=t.m06,s=t.m07,c=t.m08;m.m00=u*c-i*s;m.m01=a*s-r*c;m.m02=r*i-a*u;m.m03=i*o-e*c;m.m04=n*c-a*o;m.m05=a*e-n*i;m.m06=e*s-u*o;m.m07=r*o-n*s;m.m08=n*u-r*e;return m};_.determinant=function(m){let t=m.m00,n=m.m01,r=m.m02,a=m.m03,e=m.m04,u=m.m05,i=m.m06,o=m.m07,s=m.m08;return t*(s*e-u*o)+n*(-s*a+u*i)+r*(o*a-e*i)};_.multiply=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=t.m06,c=t.m07,h=t.m08;let f=n.m00,M=n.m01,x=n.m02;let y=n.m03,z=n.m04,l=n.m05;let w=n.m06,b=n.m07,d=n.m08;m.m00=f*r+M*u+x*s;m.m01=f*a+M*i+x*c;m.m02=f*e+M*o+x*h;m.m03=y*r+z*u+l*s;m.m04=y*a+z*i+l*c;m.m05=y*e+z*o+l*h;m.m06=w*r+b*u+d*s;m.m07=w*a+b*i+d*c;m.m08=w*e+b*o+d*h;return m};_.mul=_.multiply;_.translate=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=t.m06,c=t.m07,h=t.m08;let f=n.x,M=n.y;m.m00=r;m.m01=a;m.m02=e;m.m03=u;m.m04=i;m.m05=o;m.m06=f*r+M*u+s;m.m07=f*a+M*i+c;m.m08=f*e+M*o+h;return m};_.rotate=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=t.m06,c=t.m07,h=t.m08;let f=Math.sin(n);let M=Math.cos(n);m.m00=M*r+f*u;m.m01=M*a+f*i;m.m02=M*e+f*o;m.m03=M*u-f*r;m.m04=M*i-f*a;m.m05=M*o-f*e;m.m06=s;m.m07=c;m.m08=h;return m};_.scale=function(m,t,n){let r=n.x,a=n.y;m.m00=r*t.m00;m.m01=r*t.m01;m.m02=r*t.m02;m.m03=a*t.m03;m.m04=a*t.m04;m.m05=a*t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};_.fromMat4=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m04;m.m04=t.m05;m.m05=t.m06;m.m06=t.m08;m.m07=t.m09;m.m08=t.m10;return m};_.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=t.x;m.m07=t.y;m.m08=1;return m};_.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=0;m.m03=-n;m.m04=r;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};_.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=t.y;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};_.fromMat2d=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=0;m.m03=t.m02;m.m04=t.m03;m.m05=0;m.m06=t.m04;m.m07=t.m05;m.m08=1;return m};_.fromQuat=function(m,t){let n=t.x,r=t.y,a=t.z,e=t.w;let u=n+n;let i=r+r;let o=a+a;let s=n*u;let c=r*u;let h=r*i;let f=a*u;let M=a*i;let x=a*o;let y=e*u;let z=e*i;let l=e*o;m.m00=1-h-x;m.m03=c-l;m.m06=f+z;m.m01=c+l;m.m04=1-s-x;m.m07=M-y;m.m02=f-z;m.m05=M+y;m.m08=1-s-h;return m};_.fromViewUp=function(){let m=U.new(0,1,0);let t=U.create();let n=U.create();return function(a,e,u){if(U.sqrLen(e)<r*r){_.identity(a);return a}u=u||m;U.cross(t,u,e);if(U.sqrLen(t)<r*r){_.identity(a);return a}U.cross(n,e,t);_.set(a,t.x,t.y,t.z,n.x,n.y,n.z,e.x,e.y,e.z);return a}}();_.normalFromMat4=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05,o=t.m06,s=t.m07,c=t.m08,h=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-r*u;let b=n*o-a*u;let d=n*s-e*u;let p=r*o-a*i;let q=r*s-e*i;let g=a*s-e*o;let v=c*y-h*x;let A=c*z-f*x;let S=c*l-M*x;let I=h*z-f*y;let L=h*l-M*y;let D=f*l-M*z;let P=w*D-b*L+d*I+p*S-q*A+g*v;if(!P){return null}P=1/P;m.m00=(i*D-o*L+s*I)*P;m.m01=(o*S-u*D-s*A)*P;m.m02=(u*L-i*S+s*v)*P;m.m03=(a*L-r*D-e*I)*P;m.m04=(n*D-a*S+e*A)*P;m.m05=(r*S-n*L-e*v)*P;m.m06=(y*g-z*q+l*p)*P;m.m07=(z*d-x*g-l*b)*P;m.m08=(x*q-y*d+l*w)*P;return m};_.str=function(m){return`mat3(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08})`};_.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;return m};_.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2))};_.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;return m};_.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;return m};_.sub=_.subtract;_.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;return m};_.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;m.m06=t.m06+n.m06*r;m.m07=t.m07+n.m07*r;m.m08=t.m08+n.m08*r;return m};_.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08};_.equals=function(m,t){let n=m.m00,a=m.m01,e=m.m02,u=m.m03,i=m.m04,o=m.m05,s=m.m06,c=m.m07,h=m.m08;let f=t.m00,M=t.m01,x=t.m02,y=t.m03,z=t.m04,l=t.m05,w=t.m06,b=t.m07,d=t.m08;return Math.abs(n-f)<=r*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-M)<=r*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-x)<=r*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(u-y)<=r*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(i-z)<=r*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(o-l)<=r*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-w)<=r*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(c-b)<=r*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(h-d)<=r*Math.max(1,Math.abs(h),Math.abs(d))};class C{constructor(m,t,n,r){this.x=m;this.y=t;this.z=n;this.w=r}}let k={};k.create=function(){return new C(0,0,0,1)};k.new=Y.new;k.clone=Y.clone;k.copy=Y.copy;k.set=Y.set;k.identity=function(m){m.x=0;m.y=0;m.z=0;m.w=1;return m};k.rotationTo=function(){let m=U.create();let t=U.new(1,0,0);let n=U.new(0,1,0);return function(r,a,e){let u=U.dot(a,e);if(u<-.999999){U.cross(m,t,a);if(U.length(m)<1e-6){U.cross(m,n,a)}U.normalize(m,m);k.fromAxisAngle(r,m,Math.PI);return r}else if(u>.999999){r.x=0;r.y=0;r.z=0;r.w=1;return r}else{U.cross(m,a,e);r.x=m.x;r.y=m.y;r.z=m.z;r.w=1+u;return k.normalize(r,r)}}}();k.getAxisAngle=function(m,t){let n=Math.acos(t.w)*2;let r=Math.sin(n/2);if(r!=0){m.x=t.x/r;m.y=t.y/r;m.z=t.z/r}else{m.x=1;m.y=0;m.z=0}return n};k.add=Y.add;k.multiply=function(m,t,n){let r=t.x,a=t.y,e=t.z,u=t.w,i=n.x,o=n.y,s=n.z,c=n.w;m.x=r*c+u*i+a*s-e*o;m.y=a*c+u*o+e*i-r*s;m.z=e*c+u*s+r*o-a*i;m.w=u*c-r*i-a*o-e*s;return m};k.mul=k.multiply;k.scale=Y.scale;k.rotateX=function(m,t,n){n*=.5;let r=t.x,a=t.y,e=t.z,u=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o+u*i;m.y=a*o+e*i;m.z=e*o-a*i;m.w=u*o-r*i;return m};k.rotateY=function(m,t,n){n*=.5;let r=t.x,a=t.y,e=t.z,u=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o-e*i;m.y=a*o+u*i;m.z=e*o+r*i;m.w=u*o-a*i;return m};k.rotateZ=function(m,t,n){n*=.5;let r=t.x,a=t.y,e=t.z,u=t.w,i=Math.sin(n),o=Math.cos(n);m.x=r*o+a*i;m.y=a*o-r*i;m.z=e*o+u*i;m.w=u*o-e*i;return m};k.calculateW=function(m,t){let n=t.x,r=t.y,a=t.z;m.x=n;m.y=r;m.z=a;m.w=Math.sqrt(Math.abs(1-n*n-r*r-a*a));return m};k.dot=Y.dot;k.lerp=Y.lerp;k.slerp=function(m,t,n,r){let a=t.x,e=t.y,u=t.z,i=t.w,o=n.x,s=n.y,c=n.z,h=n.w;let f,M,x,y,z;M=a*o+e*s+u*c+i*h;if(M<0){M=-M;o=-o;s=-s;c=-c;h=-h}if(1-M>1e-6){f=Math.acos(M);x=Math.sin(f);y=Math.sin((1-r)*f)/x;z=Math.sin(r*f)/x}else{y=1-r;z=r}m.x=y*a+z*o;m.y=y*e+z*s;m.z=y*u+z*c;m.w=y*i+z*h;return m};k.sqlerp=function(){let m=k.create();let t=k.create();return function(n,r,a,e,u,i){k.slerp(m,r,u,i);k.slerp(t,a,e,i);k.slerp(n,m,t,2*i*(1-i));return n}}();k.invert=function(m,t){let n=t.x,r=t.y,a=t.z,e=t.w;let u=n*n+r*r+a*a+e*e;let i=u?1/u:0;m.x=-n*i;m.y=-r*i;m.z=-a*i;m.w=e*i;return m};k.conjugate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=t.w;return m};k.length=Y.length;k.len=k.length;k.squaredLength=Y.squaredLength;k.sqrLen=k.squaredLength;k.normalize=Y.normalize;k.fromAxes=function(){let m=_.create();return function(t,n,r,a){_.set(m,n.x,n.y,n.z,r.x,r.y,r.z,a.x,a.y,a.z);return k.normalize(t,k.fromMat3(t,m))}}();k.fromViewUp=function(){let m=_.create();return function(t,n,r){_.fromViewUp(m,n,r);if(!m){return null}return k.normalize(t,k.fromMat3(t,m))}}();k.fromAxisAngle=function(m,t,n){n=n*.5;let r=Math.sin(n);m.x=r*t.x;m.y=r*t.y;m.z=r*t.z;m.w=Math.cos(n);return m};k.fromMat3=function(m,t){let n=t.m00,r=t.m03,a=t.m06,e=t.m01,u=t.m04,i=t.m07,o=t.m02,s=t.m05,c=t.m08;let h=n+u+c;if(h>0){let t=.5/Math.sqrt(h+1);m.w=.25/t;m.x=(s-i)*t;m.y=(a-o)*t;m.z=(e-r)*t}else if(n>u&&n>c){let t=2*Math.sqrt(1+n-u-c);m.w=(s-i)/t;m.x=.25*t;m.y=(r+e)/t;m.z=(a+o)/t}else if(u>c){let t=2*Math.sqrt(1+u-n-c);m.w=(a-o)/t;m.x=(r+e)/t;m.y=.25*t;m.z=(i+s)/t}else{let t=2*Math.sqrt(1+c-n-u);m.w=(e-r)/t;m.x=(a+o)/t;m.y=(i+s)/t;m.z=.25*t}return m};k.fromEuler=function(m,t,n,r){let a=.5*Math.PI/180;t*=a;n*=a;r*=a;let e=Math.sin(t);let u=Math.cos(t);let i=Math.sin(n);let o=Math.cos(n);let s=Math.sin(r);let c=Math.cos(r);m.x=e*o*c-u*i*s;m.y=u*i*c+e*o*s;m.z=u*o*s-e*i*c;m.w=u*o*c+e*i*s;return m};k.str=function(m){return`quat(${m.x}, ${m.y}, ${m.z}, ${m.w})`};k.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};k.exactEquals=Y.exactEquals;k.equals=Y.equals;class B{constructor(m,t,n,r){this.m00=m;this.m01=t;this.m02=n;this.m03=r}}let W={};W.create=function(){return new B(1,0,0,1)};W.new=function(m,t,n,r){return new B(m,t,n,r)};W.clone=function(m){return new B(m.m00,m.m01,m.m02,m.m03)};W.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;return m};W.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;return m};W.set=function(m,t,n,r,a){m.m00=t;m.m01=n;m.m02=r;m.m03=a;return m};W.transpose=function(m,t){if(m===t){let n=t.m01;m.m01=t.m02;m.m02=n}else{m.m00=t.m00;m.m01=t.m02;m.m02=t.m01;m.m03=t.m03}return m};W.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03;let u=n*e-a*r;if(!u){return null}u=1/u;m.m00=e*u;m.m01=-r*u;m.m02=-a*u;m.m03=n*u;return m};W.adjoint=function(m,t){let n=t.m00;m.m00=t.m03;m.m01=-t.m01;m.m02=-t.m02;m.m03=n;return m};W.determinant=function(m){return m.m00*m.m03-m.m02*m.m01};W.multiply=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03;let i=n.m00,o=n.m01,s=n.m02,c=n.m03;m.m00=r*i+e*o;m.m01=a*i+u*o;m.m02=r*s+e*c;m.m03=a*s+u*c;return m};W.mul=W.multiply;W.rotate=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=Math.sin(n),o=Math.cos(n);m.m00=r*o+e*i;m.m01=a*o+u*i;m.m02=r*-i+e*o;m.m03=a*-i+u*o;return m};W.scale=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=n.x,o=n.y;m.m00=r*i;m.m01=a*i;m.m02=e*o;m.m03=u*o;return m};W.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=-n;m.m03=r;return m};W.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=t.y;return m};W.str=function(m){return`mat2(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03})`};W.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;return m};W.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2))};W.LDU=function(m,t,n,r){m.m02=r.m02/r.m00;n.m00=r.m00;n.m01=r.m01;n.m03=r.m03-m.m02*n.m01};W.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;return m};W.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;return m};W.sub=W.subtract;W.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03};W.equals=function(m,t){let n=m.m00,a=m.m01,e=m.m02,u=m.m03;let i=t.m00,o=t.m01,s=t.m02,c=t.m03;return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-o)<=r*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(e-s)<=r*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=r*Math.max(1,Math.abs(u),Math.abs(c))};W.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;return m};W.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;return m};class G{constructor(m,t,n,r,a,e){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=e}}let H={};H.create=function(){return new G(1,0,0,1,0,0)};H.new=function(m,t,n,r,a,e){return new G(m,t,n,r,a,e)};H.clone=function(m){return new G(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05)};H.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;return m};H.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=0;m.m05=0;return m};H.set=function(m,t,n,r,a,e,u){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=e;m.m05=u;return m};H.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05;let o=n*e-r*a;if(!o){return null}o=1/o;m.m00=e*o;m.m01=-r*o;m.m02=-a*o;m.m03=n*o;m.m04=(a*i-e*u)*o;m.m05=(r*u-n*i)*o;return m};H.determinant=function(m){return m.m00*m.m03-m.m01*m.m02};H.multiply=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=n.m00,c=n.m01,h=n.m02,f=n.m03,M=n.m04,x=n.m05;m.m00=r*s+e*c;m.m01=a*s+u*c;m.m02=r*h+e*f;m.m03=a*h+u*f;m.m04=r*M+e*x+i;m.m05=a*M+u*x+o;return m};H.mul=H.multiply;H.rotate=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=Math.sin(n),c=Math.cos(n);m.m00=r*c+e*s;m.m01=a*c+u*s;m.m02=r*-s+e*c;m.m03=a*-s+u*c;m.m04=i;m.m05=o;return m};H.scale=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=n.x,c=n.y;m.m00=r*s;m.m01=a*s;m.m02=e*c;m.m03=u*c;m.m04=i;m.m05=o;return m};H.translate=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=n.x,c=n.y;m.m00=r;m.m01=a;m.m02=e;m.m03=u;m.m04=r*s+e*c+i;m.m05=a*s+u*c+o;return m};H.fromRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=-n;m.m03=r;m.m04=0;m.m05=0;return m};H.fromScaling=function(m,t){m.m00=t.m00;m.m01=0;m.m02=0;m.m03=t.m01;m.m04=0;m.m05=0;return m};H.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=t.x;m.m05=t.y;return m};H.str=function(m){return`mat23(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05})`};H.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;return m};H.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+1)};H.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;return m};H.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;return m};H.sub=H.subtract;H.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;return m};H.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;return m};H.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05};H.equals=function(m,t){let n=m.m00,a=m.m01,e=m.m02,u=m.m03,i=m.m04,o=m.m05;let s=t.m00,c=t.m01,h=t.m02,f=t.m03,M=t.m04,x=t.m05;return Math.abs(n-s)<=r*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-c)<=r*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(e-h)<=r*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(u-f)<=r*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(i-M)<=r*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-x)<=r*Math.max(1,Math.abs(o),Math.abs(x))};class J{constructor(m,t,n,r,a,e,u,i,o,s,c,h,f,M,x,y){this.m00=m;this.m01=t;this.m02=n;this.m03=r;this.m04=a;this.m05=e;this.m06=u;this.m07=i;this.m08=o;this.m09=s;this.m10=c;this.m11=h;this.m12=f;this.m13=M;this.m14=x;this.m15=y}}let K={};K.create=function(){return new J(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};K.new=function(m,t,n,r,a,e,u,i,o,s,c,h,f,M,x,y){return new J(m,t,n,r,a,e,u,i,o,s,c,h,f,M,x,y)};K.clone=function(m){return new J(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08,m.m09,m.m10,m.m11,m.m12,m.m13,m.m14,m.m15)};K.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};K.set=function(m,t,n,r,a,e,u,i,o,s,c,h,f,M,x,y,z){m.m00=t;m.m01=n;m.m02=r;m.m03=a;m.m04=e;m.m05=u;m.m06=i;m.m07=o;m.m08=s;m.m09=c;m.m10=h;m.m11=f;m.m12=M;m.m13=x;m.m14=y;m.m15=z;return m}
;K.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.transpose=function(m,t){if(m===t){let n=t.m01,r=t.m02,a=t.m03,e=t.m06,u=t.m07,i=t.m11;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=n;m.m06=t.m09;m.m07=t.m13;m.m08=r;m.m09=e;m.m11=t.m14;m.m12=a;m.m13=u;m.m14=i}else{m.m00=t.m00;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=t.m01;m.m05=t.m05;m.m06=t.m09;m.m07=t.m13;m.m08=t.m02;m.m09=t.m06;m.m10=t.m10;m.m11=t.m14;m.m12=t.m03;m.m13=t.m07;m.m14=t.m11;m.m15=t.m15}return m};K.invert=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05,o=t.m06,s=t.m07,c=t.m08,h=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-r*u;let b=n*o-a*u;let d=n*s-e*u;let p=r*o-a*i;let q=r*s-e*i;let g=a*s-e*o;let v=c*y-h*x;let A=c*z-f*x;let S=c*l-M*x;let I=h*z-f*y;let L=h*l-M*y;let D=f*l-M*z;let P=w*D-b*L+d*I+p*S-q*A+g*v;if(!P){return null}P=1/P;m.m00=(i*D-o*L+s*I)*P;m.m01=(a*L-r*D-e*I)*P;m.m02=(y*g-z*q+l*p)*P;m.m03=(f*q-h*g-M*p)*P;m.m04=(o*S-u*D-s*A)*P;m.m05=(n*D-a*S+e*A)*P;m.m06=(z*d-x*g-l*b)*P;m.m07=(c*g-f*d+M*b)*P;m.m08=(u*L-i*S+s*v)*P;m.m09=(r*S-n*L-e*v)*P;m.m10=(x*q-y*d+l*w)*P;m.m11=(h*d-c*q-M*w)*P;m.m12=(i*A-u*I-o*v)*P;m.m13=(n*I-r*A+a*v)*P;m.m14=(y*b-x*p-z*w)*P;m.m15=(c*p-h*b+f*w)*P;return m};K.adjoint=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m03,u=t.m04,i=t.m05,o=t.m06,s=t.m07,c=t.m08,h=t.m09,f=t.m10,M=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;m.m00=i*(f*l-M*z)-h*(o*l-s*z)+y*(o*M-s*f);m.m01=-(r*(f*l-M*z)-h*(a*l-e*z)+y*(a*M-e*f));m.m02=r*(o*l-s*z)-i*(a*l-e*z)+y*(a*s-e*o);m.m03=-(r*(o*M-s*f)-i*(a*M-e*f)+h*(a*s-e*o));m.m04=-(u*(f*l-M*z)-c*(o*l-s*z)+x*(o*M-s*f));m.m05=n*(f*l-M*z)-c*(a*l-e*z)+x*(a*M-e*f);m.m06=-(n*(o*l-s*z)-u*(a*l-e*z)+x*(a*s-e*o));m.m07=n*(o*M-s*f)-u*(a*M-e*f)+c*(a*s-e*o);m.m08=u*(h*l-M*y)-c*(i*l-s*y)+x*(i*M-s*h);m.m09=-(n*(h*l-M*y)-c*(r*l-e*y)+x*(r*M-e*h));m.m10=n*(i*l-s*y)-u*(r*l-e*y)+x*(r*s-e*i);m.m11=-(n*(i*M-s*h)-u*(r*M-e*h)+c*(r*s-e*i));m.m12=-(u*(h*z-f*y)-c*(i*z-o*y)+x*(i*f-o*h));m.m13=n*(h*z-f*y)-c*(r*z-a*y)+x*(r*f-a*h);m.m14=-(n*(i*z-o*y)-u*(r*z-a*y)+x*(r*o-a*i));m.m15=n*(i*f-o*h)-u*(r*f-a*h)+c*(r*o-a*i);return m};K.determinant=function(m){let t=m.m00,n=m.m01,r=m.m02,a=m.m03,e=m.m04,u=m.m05,i=m.m06,o=m.m07,s=m.m08,c=m.m09,h=m.m10,f=m.m11,M=m.m12,x=m.m13,y=m.m14,z=m.m15;let l=t*u-n*e;let w=t*i-r*e;let b=t*o-a*e;let d=n*i-r*u;let p=n*o-a*u;let q=r*o-a*i;let g=s*x-c*M;let v=s*y-h*M;let A=s*z-f*M;let S=c*y-h*x;let I=c*z-f*x;let L=h*z-f*y;return l*L-w*I+b*S+d*A-p*v+q*g};K.multiply=function(m,t,n){let r=t.m00,a=t.m01,e=t.m02,u=t.m03,i=t.m04,o=t.m05,s=t.m06,c=t.m07,h=t.m08,f=t.m09,M=t.m10,x=t.m11,y=t.m12,z=t.m13,l=t.m14,w=t.m15;let b=n.m00,d=n.m01,p=n.m02,q=n.m03;m.m00=b*r+d*i+p*h+q*y;m.m01=b*a+d*o+p*f+q*z;m.m02=b*e+d*s+p*M+q*l;m.m03=b*u+d*c+p*x+q*w;b=n.m04;d=n.m05;p=n.m06;q=n.m07;m.m04=b*r+d*i+p*h+q*y;m.m05=b*a+d*o+p*f+q*z;m.m06=b*e+d*s+p*M+q*l;m.m07=b*u+d*c+p*x+q*w;b=n.m08;d=n.m09;p=n.m10;q=n.m11;m.m08=b*r+d*i+p*h+q*y;m.m09=b*a+d*o+p*f+q*z;m.m10=b*e+d*s+p*M+q*l;m.m11=b*u+d*c+p*x+q*w;b=n.m12;d=n.m13;p=n.m14;q=n.m15;m.m12=b*r+d*i+p*h+q*y;m.m13=b*a+d*o+p*f+q*z;m.m14=b*e+d*s+p*M+q*l;m.m15=b*u+d*c+p*x+q*w;return m};K.mul=K.multiply;K.translate=function(m,t,n){let r=n.x,a=n.y,e=n.z,u,i,o,s,c,h,f,M,x,y,z,l;if(t===m){m.m12=t.m00*r+t.m04*a+t.m08*e+t.m12;m.m13=t.m01*r+t.m05*a+t.m09*e+t.m13;m.m14=t.m02*r+t.m06*a+t.m10*e+t.m14;m.m15=t.m03*r+t.m07*a+t.m11*e+t.m15}else{u=t.m00;i=t.m01;o=t.m02;s=t.m03;c=t.m04;h=t.m05;f=t.m06;M=t.m07;x=t.m08;y=t.m09;z=t.m10;l=t.m11;m.m00=u;m.m01=i;m.m02=o;m.m03=s;m.m04=c;m.m05=h;m.m06=f;m.m07=M;m.m08=x;m.m09=y;m.m10=z;m.m11=l;m.m12=u*r+c*a+x*e+t.m12;m.m13=i*r+h*a+y*e+t.m13;m.m14=o*r+f*a+z*e+t.m14;m.m15=s*r+M*a+l*e+t.m15}return m};K.scale=function(m,t,n){let r=n.x,a=n.y,e=n.z;m.m00=t.m00*r;m.m01=t.m01*r;m.m02=t.m02*r;m.m03=t.m03*r;m.m04=t.m04*a;m.m05=t.m05*a;m.m06=t.m06*a;m.m07=t.m07*a;m.m08=t.m08*e;m.m09=t.m09*e;m.m10=t.m10*e;m.m11=t.m11*e;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};K.rotate=function(m,t,n,a){let e=a.x,u=a.y,i=a.z;let o,s,c,h,f,M,x,y,z,l,w,b,d,p,q,g,v,A,S,I,L,D,P,R;let E=Math.sqrt(e*e+u*u+i*i);if(Math.abs(E)<r){return null}E=1/E;e*=E;u*=E;i*=E;o=Math.sin(n);s=Math.cos(n);c=1-s;h=t.m00;f=t.m01;M=t.m02;x=t.m03;y=t.m04;z=t.m05;l=t.m06;w=t.m07;b=t.m08;d=t.m09;p=t.m10;q=t.m11;g=e*e*c+s;v=u*e*c+i*o;A=i*e*c-u*o;S=e*u*c-i*o;I=u*u*c+s;L=i*u*c+e*o;D=e*i*c+u*o;P=u*i*c-e*o;R=i*i*c+s;m.m00=h*g+y*v+b*A;m.m01=f*g+z*v+d*A;m.m02=M*g+l*v+p*A;m.m03=x*g+w*v+q*A;m.m04=h*S+y*I+b*L;m.m05=f*S+z*I+d*L;m.m06=M*S+l*I+p*L;m.m07=x*S+w*I+q*L;m.m08=h*D+y*P+b*R;m.m09=f*D+z*P+d*R;m.m10=M*D+l*P+p*R;m.m11=x*D+w*P+q*R;if(t!==m){m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}return m};K.rotateX=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),e=t.m04,u=t.m05,i=t.m06,o=t.m07,s=t.m08,c=t.m09,h=t.m10,f=t.m11;if(t!==m){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m04=e*a+s*r;m.m05=u*a+c*r;m.m06=i*a+h*r;m.m07=o*a+f*r;m.m08=s*a-e*r;m.m09=c*a-u*r;m.m10=h*a-i*r;m.m11=f*a-o*r;return m};K.rotateY=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),e=t.m00,u=t.m01,i=t.m02,o=t.m03,s=t.m08,c=t.m09,h=t.m10,f=t.m11;if(t!==m){m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=e*a-s*r;m.m01=u*a-c*r;m.m02=i*a-h*r;m.m03=o*a-f*r;m.m08=e*r+s*a;m.m09=u*r+c*a;m.m10=i*r+h*a;m.m11=o*r+f*a;return m};K.rotateZ=function(m,t,n){let r=Math.sin(n),a=Math.cos(n),e=t.m00,u=t.m01,i=t.m02,o=t.m03,s=t.m04,c=t.m05,h=t.m06,f=t.m07;if(t!==m){m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=e*a+s*r;m.m01=u*a+c*r;m.m02=i*a+h*r;m.m03=o*a+f*r;m.m04=s*a-e*r;m.m05=c*a-u*r;m.m06=h*a-i*r;m.m07=f*a-o*r;return m};K.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=t.x;m.m13=t.y;m.m14=t.z;m.m15=1;return m};K.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=t.y;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=t.z;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.fromRotation=function(m,t,n){let a=n.x,e=n.y,u=n.z;let i=Math.sqrt(a*a+e*e+u*u);let o,s,c;if(Math.abs(i)<r){return null}i=1/i;a*=i;e*=i;u*=i;o=Math.sin(t);s=Math.cos(t);c=1-s;m.m00=a*a*c+s;m.m01=e*a*c+u*o;m.m02=u*a*c-e*o;m.m03=0;m.m04=a*e*c-u*o;m.m05=e*e*c+s;m.m06=u*e*c+a*o;m.m07=0;m.m08=a*u*c+e*o;m.m09=e*u*c-a*o;m.m10=u*u*c+s;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.fromXRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=r;m.m06=n;m.m07=0;m.m08=0;m.m09=-n;m.m10=r;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.fromYRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=0;m.m02=-n;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=n;m.m09=0;m.m10=r;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.fromZRotation=function(m,t){let n=Math.sin(t),r=Math.cos(t);m.m00=r;m.m01=n;m.m02=0;m.m03=0;m.m04=-n;m.m05=r;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.fromRT=function(m,t,n){let r=t.x,a=t.y,e=t.z,u=t.w;let i=r+r;let o=a+a;let s=e+e;let c=r*i;let h=r*o;let f=r*s;let M=a*o;let x=a*s;let y=e*s;let z=u*i;let l=u*o;let w=u*s;m.m00=1-(M+y);m.m01=h+w;m.m02=f-l;m.m03=0;m.m04=h-w;m.m05=1-(c+y);m.m06=x+z;m.m07=0;m.m08=f+l;m.m09=x-z;m.m10=1-(c+M);m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};K.getTranslation=function(m,t){m.x=t.m12;m.y=t.m13;m.z=t.m14;return m};K.getScaling=function(m,t){let n=t.m00,r=t.m01,a=t.m02,e=t.m04,u=t.m05,i=t.m06,o=t.m08,s=t.m09,c=t.m10;m.x=Math.sqrt(n*n+r*r+a*a);m.y=Math.sqrt(e*e+u*u+i*i);m.z=Math.sqrt(o*o+s*s+c*c);return m};K.getRotation=function(m,t){let n=t.m00+t.m05+t.m10;let r=0;if(n>0){r=Math.sqrt(n+1)*2;m.w=.25*r;m.x=(t.m06-t.m09)/r;m.y=(t.m08-t.m02)/r;m.z=(t.m01-t.m04)/r}else if(t.m00>t.m05&t.m00>t.m10){r=Math.sqrt(1+t.m00-t.m05-t.m10)*2;m.w=(t.m06-t.m09)/r;m.x=.25*r;m.y=(t.m01+t.m04)/r;m.z=(t.m08+t.m02)/r}else if(t.m05>t.m10){r=Math.sqrt(1+t.m05-t.m00-t.m10)*2;m.w=(t.m08-t.m02)/r;m.x=(t.m01+t.m04)/r;m.y=.25*r;m.z=(t.m06+t.m09)/r}else{r=Math.sqrt(1+t.m10-t.m00-t.m05)*2;m.w=(t.m01-t.m04)/r;m.x=(t.m08+t.m02)/r;m.y=(t.m06+t.m09)/r;m.z=.25*r}return m};K.fromRTS=function(m,t,n,r){let a=t.x,e=t.y,u=t.z,i=t.w;let o=a+a;let s=e+e;let c=u+u;let h=a*o;let f=a*s;let M=a*c;let x=e*s;let y=e*c;let z=u*c;let l=i*o;let w=i*s;let b=i*c;let d=r.x;let p=r.y;let q=r.z;m.m00=(1-(x+z))*d;m.m01=(f+b)*d;m.m02=(M-w)*d;m.m03=0;m.m04=(f-b)*p;m.m05=(1-(h+z))*p;m.m06=(y+l)*p;m.m07=0;m.m08=(M+w)*q;m.m09=(y-l)*q;m.m10=(1-(h+x))*q;m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};K.fromRTSOrigin=function(m,t,n,r,a){let e=t.x,u=t.y,i=t.z,o=t.w;let s=e+e;let c=u+u;let h=i+i;let f=e*s;let M=e*c;let x=e*h;let y=u*c;let z=u*h;let l=i*h;let w=o*s;let b=o*c;let d=o*h;let p=r.x;let q=r.y;let g=r.z;let v=a.x;let A=a.y;let S=a.z;m.m00=(1-(y+l))*p;m.m01=(M+d)*p;m.m02=(x-b)*p;m.m03=0;m.m04=(M-d)*q;m.m05=(1-(f+l))*q;m.m06=(z+w)*q;m.m07=0;m.m08=(x+b)*g;m.m09=(z-w)*g;m.m10=(1-(f+y))*g;m.m11=0;m.m12=n.x+v-(m.m00*v+m.m04*A+m.m08*S);m.m13=n.y+A-(m.m01*v+m.m05*A+m.m09*S);m.m14=n.z+S-(m.m02*v+m.m06*A+m.m10*S);m.m15=1;return m};K.fromQuat=function(m,t){let n=t.x,r=t.y,a=t.z,e=t.w;let u=n+n;let i=r+r;let o=a+a;let s=n*u;let c=r*u;let h=r*i;let f=a*u;let M=a*i;let x=a*o;let y=e*u;let z=e*i;let l=e*o;m.m00=1-h-x;m.m01=c+l;m.m02=f-z;m.m03=0;m.m04=c-l;m.m05=1-s-x;m.m06=M+y;m.m07=0;m.m08=f+z;m.m09=M-y;m.m10=1-s-h;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};K.frustum=function(m,t,n,r,a,e,u){let i=1/(n-t);let o=1/(a-r);let s=1/(e-u);m.m00=e*2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=e*2*o;m.m06=0;m.m07=0;m.m08=(n+t)*i;m.m09=(a+r)*o;m.m10=(u+e)*s;m.m11=-1;m.m12=0;m.m13=0;m.m14=u*e*2*s;m.m15=0;return m};K.perspective=function(m,t,n,r,a){let e=1/Math.tan(t/2);let u=1/(r-a);m.m00=e/n;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=e;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=(a+r)*u;m.m11=-1;m.m12=0;m.m13=0;m.m14=2*a*r*u;m.m15=0;return m};K.perspectiveFromFieldOfView=function(m,t,n,r){let a=Math.tan(t.upDegrees*Math.PI/180);let e=Math.tan(t.downDegrees*Math.PI/180);let u=Math.tan(t.leftDegrees*Math.PI/180);let i=Math.tan(t.rightDegrees*Math.PI/180);let o=2/(u+i);let s=2/(a+e);m.m00=o;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=s;m.m06=0;m.m07=0;m.m08=-((u-i)*o*.5);m.m09=(a-e)*s*.5;m.m10=r/(n-r);m.m11=-1;m.m12=0;m.m13=0;m.m14=r*n/(n-r);m.m15=0;return m};K.ortho=function(m,t,n,r,a,e,u){let i=1/(t-n);let o=1/(r-a);let s=1/(e-u);m.m00=-2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=-2*o;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=2*s;m.m11=0;m.m12=(t+n)*i;m.m13=(a+r)*o;m.m14=(u+e)*s;m.m15=1;return m};K.lookAt=function(m,t,n,a){let e,u,i,o,s,c,h,f,M,x;let y=t.x;let z=t.y;let l=t.z;let w=a.x;let b=a.y;let d=a.z;let p=n.x;let q=n.y;let g=n.z;if(Math.abs(y-p)<r&&Math.abs(z-q)<r&&Math.abs(l-g)<r){return K.identity(m)}h=y-p;f=z-q;M=l-g;x=1/Math.sqrt(h*h+f*f+M*M);h*=x;f*=x;M*=x;e=b*M-d*f;u=d*h-w*M;i=w*f-b*h;x=Math.sqrt(e*e+u*u+i*i);if(!x){e=0;u=0;i=0}else{x=1/x;e*=x;u*=x;i*=x}o=f*i-M*u;s=M*e-h*i;c=h*u-f*e;x=Math.sqrt(o*o+s*s+c*c);if(!x){o=0;s=0;c=0}else{x=1/x;o*=x;s*=x;c*=x}m.m00=e;m.m01=o;m.m02=h;m.m03=0;m.m04=u;m.m05=s;m.m06=f;m.m07=0;m.m08=i;m.m09=c;m.m10=M;m.m11=0;m.m12=-(e*y+u*z+i*l);m.m13=-(o*y+s*z+c*l);m.m14=-(h*y+f*z+M*l);m.m15=1;return m};K.str=function(m){return`mat4(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08}, ${m.m09}, ${m.m10}, ${m.m11}, ${m.m12}, ${m.m13}, ${m.m14}, ${m.m15})`};K.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;m[9]=t.m09;m[10]=t.m10;m[11]=t.m11;m[12]=t.m12;m[13]=t.m13;m[14]=t.m14;m[15]=t.m15;return m};K.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2)+Math.pow(m.m09,2)+Math.pow(m.m10,2)+Math.pow(m.m11,2)+Math.pow(m.m12,2)+Math.pow(m.m13,2)+Math.pow(m.m14,2)+Math.pow(m.m15,2))};K.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;m.m09=t.m09+n.m09;m.m10=t.m10+n.m10;m.m11=t.m11+n.m11;m.m12=t.m12+n.m12;m.m13=t.m13+n.m13;m.m14=t.m14+n.m14;m.m15=t.m15+n.m15;return m};K.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;m.m09=t.m09-n.m09;m.m10=t.m10-n.m10;m.m11=t.m11-n.m11;m.m12=t.m12-n.m12;m.m13=t.m13-n.m13;m.m14=t.m14-n.m14;m.m15=t.m15-n.m15;return m};K.sub=K.subtract;K.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;m.m09=t.m09*n;m.m10=t.m10*n;m.m11=t.m11*n;m.m12=t.m12*n;m.m13=t.m13*n;m.m14=t.m14*n;m.m15=t.m15*n;return m};K.multiplyScalarAndAdd=function(m,t,n,r){m.m00=t.m00+n.m00*r;m.m01=t.m01+n.m01*r;m.m02=t.m02+n.m02*r;m.m03=t.m03+n.m03*r;m.m04=t.m04+n.m04*r;m.m05=t.m05+n.m05*r;m.m06=t.m06+n.m06*r;m.m07=t.m07+n.m07*r;m.m08=t.m08+n.m08*r;m.m09=t.m09+n.m09*r;m.m10=t.m10+n.m10*r;m.m11=t.m11+n.m11*r;m.m12=t.m12+n.m12*r;m.m13=t.m13+n.m13*r;m.m14=t.m14+n.m14*r;m.m15=t.m15+n.m15*r;return m};K.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08&&m.m09===t.m09&&m.m10===t.m10&&m.m11===t.m11&&m.m12===t.m12&&m.m13===t.m13&&m.m14===t.m14&&m.m15===t.m15};K.equals=function(m,t){let n=m.m00,a=m.m01,e=m.m02,u=m.m03,i=m.m04,o=m.m05,s=m.m06,c=m.m07,h=m.m08,f=m.m09,M=m.m10,x=m.m11,y=m.m12,z=m.m13,l=m.m14,w=m.m15;let b=t.m00,d=t.m01,p=t.m02,q=t.m03,g=t.m04,v=t.m05,A=t.m06,S=t.m07,I=t.m08,L=t.m09,D=t.m10,P=t.m11,R=t.m12,E=t.m13,T=t.m14,j=t.m15;return Math.abs(n-b)<=r*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-d)<=r*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(e-p)<=r*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(u-q)<=r*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(i-g)<=r*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-v)<=r*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-A)<=r*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-S)<=r*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(h-I)<=r*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(f-L)<=r*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(M-D)<=r*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(x-P)<=r*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(y-R)<=r*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(z-E)<=r*Math.max(1,Math.abs(z),Math.abs(E))&&Math.abs(l-T)<=r*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(w-j)<=r*Math.max(1,Math.abs(w),Math.abs(j))};let $=X;m.bits=$;m.vec2=O;m.vec3=U;m.vec4=Y;m.quat=k;m.mat2=W;m.mat23=H;m.mat3=_;m.mat4=K;m.EPSILON=r;m.equals=a;m.approx=e;m.clamp=u;m.clamp01=i;m.lerp=o;m.toRadian=s;m.toDegree=c;m.random=h;m.randomRange=f;m.randomRangeInt=M})(this.vmath=this.vmath||{});
//# sourceMappingURL=./dist/vmath.min.js.map