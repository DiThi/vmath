(function(m){"use strict";const t=Math.PI/180;const n=180/Math.PI;const a=1e-6;function r(m,t){return Math.abs(m-t)<=a*Math.max(1,Math.abs(m),Math.abs(t))}function u(m,t,n){n=n||a;return Math.abs(m-t)<=n}function e(m,t,n){return m<t?t:m>n?n:m}function i(m){return m<0?0:m>1?1:m}function o(m){return m!==0&&!(m&m-1)}function s(m,t,n){return m+(t-m)*n}function h(m){return m*t}function c(m){return m*n}const M=Math.random;function f(m,t){return Math.random()*(t-m)+m}function x(m,t){return Math.floor(this.randomRange(m,t))}class y{constructor(m,t){this.x=m;this.y=t}}let z={};z.create=function(){return new y(0,0)};z.new=function(m,t){return new y(m,t)};z.clone=function(m){return new y(m.x,m.y)};z.copy=function(m,t){m.x=t.x;m.y=t.y;return m};z.set=function(m,t,n){m.x=t;m.y=n;return m};z.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;return m};z.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;return m};z.sub=z.subtract;z.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;return m};z.mul=z.multiply;z.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;return m};z.div=z.divide;z.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);return m};z.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);return m};z.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);return m};z.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);return m};z.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);return m};z.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;return m};z.scaleAndAdd=function(m,t,n,a){m.x=t.x+n.x*a;m.y=t.y+n.y*a;return m};z.distance=function(m,t){let n=t.x-m.x,a=t.y-m.y;return Math.sqrt(n*n+a*a)};z.dist=z.distance;z.squaredDistance=function(m,t){let n=t.x-m.x,a=t.y-m.y;return n*n+a*a};z.sqrDist=z.squaredDistance;z.length=function(m){let t=m.x,n=m.y;return Math.sqrt(t*t+n*n)};z.len=z.length;z.squaredLength=function(m){let t=m.x,n=m.y;return t*t+n*n};z.sqrLen=z.squaredLength;z.negate=function(m,t){m.x=-t.x;m.y=-t.y;return m};z.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;return m};z.inverseSafe=function(m,t){let n=t.x,r=t.y;if(Math.abs(n)<a){m.x=0}else{m.x=1/n}if(Math.abs(r)<a){m.y=0}else{m.y=1/t.y}return m};z.normalize=function(m,t){let n=t.x,a=t.y;let r=n*n+a*a;if(r>0){r=1/Math.sqrt(r);m.x=t.x*r;m.y=t.y*r}return m};z.dot=function(m,t){return m.x*t.x+m.y*t.y};z.cross=function(m,t,n){let a=t.x*n.y-t.y*n.x;m.x=m.y=0;m.z=a;return m};z.lerp=function(m,t,n,a){let r=t.x,u=t.y;m.x=r+a*(n.x-r);m.y=u+a*(n.y-u);return m};z.random=function(m,t){t=t||1;let n=M()*2*Math.PI;m.x=Math.cos(n)*t;m.y=Math.sin(n)*t;return m};z.transformMat2=function(m,t,n){let a=t.x,r=t.y;m.x=n.m00*a+n.m02*r;m.y=n.m01*a+n.m03*r;return m};z.transformMat23=function(m,t,n){let a=t.x,r=t.y;m.x=n.m00*a+n.m02*r+n.m04;m.y=n.m01*a+n.m03*r+n.m05;return m};z.transformMat3=function(m,t,n){let a=t.x,r=t.y;m.x=n.m00*a+n.m03*r+n.m06;m.y=n.m01*a+n.m04*r+n.m07;return m};z.transformMat4=function(m,t,n){let a=t.x,r=t.y;m.x=n.m00*a+n.m04*r+n.m12;m.y=n.m01*a+n.m05*r+n.m13;return m};z.forEach=function(){let m=z.create();return function(t,n,a,r,u,e){let i,o;if(!n){n=2}if(!a){a=0}if(r){o=Math.min(r*n+a,t.length)}else{o=t.length}for(i=a;i<o;i+=n){m.x=t[i];m.y=t[i+1];u(m,m,e);t[i]=m.x;t[i+1]=m.y}return t}}();z.str=function(m){return`vec2(${m.x}, ${m.y})`};z.array=function(m,t){m[0]=t.x;m[1]=t.y;return m};z.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y};z.equals=function(m,t){let n=m.x,r=m.y;let u=t.x,e=t.y;return Math.abs(n-u)<=a*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-e)<=a*Math.max(1,Math.abs(r),Math.abs(e))};class l{constructor(m,t,n){this.x=m;this.y=t;this.z=n}}let w={};w.create=function(){return new l(0,0,0)};w.new=function(m,t,n){return new l(m,t,n)};w.clone=function(m){return new l(m.x,m.y,m.z)};w.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;return m};w.set=function(m,t,n,a){m.x=t;m.y=n;m.z=a;return m};w.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;return m};w.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;return m};w.sub=w.subtract;w.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;return m};w.mul=w.multiply;w.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;return m};w.div=w.divide;w.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);return m};w.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);return m};w.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);return m};w.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);return m};w.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);return m};w.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;return m};w.scaleAndAdd=function(m,t,n,a){m.x=t.x+n.x*a;m.y=t.y+n.y*a;m.z=t.z+n.z*a;return m};w.distance=function(m,t){let n=t.x-m.x,a=t.y-m.y,r=t.z-m.z;return Math.sqrt(n*n+a*a+r*r)};w.dist=w.distance;w.squaredDistance=function(m,t){let n=t.x-m.x,a=t.y-m.y,r=t.z-m.z;return n*n+a*a+r*r};w.sqrDist=w.squaredDistance;w.length=function(m){let t=m.x,n=m.y,a=m.z;return Math.sqrt(t*t+n*n+a*a)};w.len=w.length;w.squaredLength=function(m){let t=m.x,n=m.y,a=m.z;return t*t+n*n+a*a};w.sqrLen=w.squaredLength;w.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;return m};w.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;return m};w.inverseSafe=function(m,t){let n=t.x,r=t.y,u=t.z;if(Math.abs(n)<a){m.x=0}else{m.x=1/n}if(Math.abs(r)<a){m.y=0}else{m.y=1/r}if(Math.abs(u)<a){m.z=0}else{m.z=1/u}return m};w.normalize=function(m,t){let n=t.x,a=t.y,r=t.z;let u=n*n+a*a+r*r;if(u>0){u=1/Math.sqrt(u);m.x=t.x*u;m.y=t.y*u;m.z=t.z*u}return m};w.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z};w.cross=function(m,t,n){let a=t.x,r=t.y,u=t.z,e=n.x,i=n.y,o=n.z;m.x=r*o-u*i;m.y=u*e-a*o;m.z=a*i-r*e;return m};w.lerp=function(m,t,n,a){let r=t.x,u=t.y,e=t.z;m.x=r+a*(n.x-r);m.y=u+a*(n.y-u);m.z=e+a*(n.z-e);return m};w.hermite=function(m,t,n,a,r,u){let e=u*u,i=e*(2*u-3)+1,o=e*(u-2)+u,s=e*(u-1),h=e*(3-2*u);m.x=t.x*i+n.x*o+a.x*s+r.x*h;m.y=t.y*i+n.y*o+a.y*s+r.y*h;m.z=t.z*i+n.z*o+a.z*s+r.z*h;return m};w.bezier=function(m,t,n,a,r,u){let e=1-u,i=e*e,o=u*u,s=i*e,h=3*u*i,c=3*o*e,M=o*u;m.x=t.x*s+n.x*h+a.x*c+r.x*M;m.y=t.y*s+n.y*h+a.y*c+r.y*M;m.z=t.z*s+n.z*h+a.z*c+r.z*M;return m};w.random=function(m,t){t=t||1;let n=M()*2*Math.PI;let a=M()*2-1;let r=Math.sqrt(1-a*a)*t;m.x=Math.cos(n)*r;m.y=Math.sin(n)*r;m.z=a*t;return m};w.transformMat4=function(m,t,n){let a=t.x,r=t.y,u=t.z,e=n.m03*a+n.m07*r+n.m11*u+n.m15;e=e||1;m.x=(n.m00*a+n.m04*r+n.m08*u+n.m12)/e;m.y=(n.m01*a+n.m05*r+n.m09*u+n.m13)/e;m.z=(n.m02*a+n.m06*r+n.m10*u+n.m14)/e;return m};w.transformMat3=function(m,t,n){let a=t.x,r=t.y,u=t.z;m.x=a*n.m00+r*n.m03+u*n.m06;m.y=a*n.m01+r*n.m04+u*n.m07;m.z=a*n.m02+r*n.m05+u*n.m08;return m};w.transformQuat=function(m,t,n){let a=t.x,r=t.y,u=t.z;let e=n.x,i=n.y,o=n.z,s=n.w;let h=s*a+i*u-o*r;let c=s*r+o*a-e*u;let M=s*u+e*r-i*a;let f=-e*a-i*r-o*u;m.x=h*s+f*-e+c*-o-M*-i;m.y=c*s+f*-i+M*-e-h*-o;m.z=M*s+f*-o+h*-i-c*-e;return m};w.rotateX=function(m,t,n,a){let r=[],u=[];r.x=t.x-n.x;r.y=t.y-n.y;r.z=t.z-n.z;u.x=r.x;u.y=r.y*Math.cos(a)-r.z*Math.sin(a);u.z=r.y*Math.sin(a)+r.z*Math.cos(a);m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.rotateY=function(m,t,n,a){let r=[],u=[];r.x=t.x-n.x;r.y=t.y-n.y;r.z=t.z-n.z;u.x=r.z*Math.sin(a)+r.x*Math.cos(a);u.y=r.y;u.z=r.z*Math.cos(a)-r.x*Math.sin(a);m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.rotateZ=function(m,t,n,a){let r=[],u=[];r.x=t.x-n.x;r.y=t.y-n.y;r.z=t.z-n.z;u.x=r.x*Math.cos(a)-r.y*Math.sin(a);u.y=r.x*Math.sin(a)+r.y*Math.cos(a);u.z=r.z;m.x=u.x+n.x;m.y=u.y+n.y;m.z=u.z+n.z;return m};w.forEach=function(){let m=w.create();return function(t,n,a,r,u,e){let i,o;if(!n){n=3}if(!a){a=0}if(r){o=Math.min(r*n+a,t.length)}else{o=t.length}for(i=a;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];u(m,m,e);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z}return t}}();w.angle=function(){let m=w.create();let t=w.create();return function(n,a){w.copy(m,n);w.copy(t,a);w.normalize(m,m);w.normalize(t,t);let r=w.dot(m,t);if(r>1){return 0}if(r<-1){return Math.PI}return Math.acos(r)}}();w.str=function(m){return`vec3(${m.x}, ${m.y}, ${m.z})`};w.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;return m};w.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z};w.equals=function(m,t){let n=m.x,r=m.y,u=m.z;let e=t.x,i=t.y,o=t.z;return Math.abs(n-e)<=a*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(r-i)<=a*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-o)<=a*Math.max(1,Math.abs(u),Math.abs(o))};class b{constructor(m,t,n,a){this.x=m;this.y=t;this.z=n;this.w=a}}let d={};d.create=function(){return new b(0,0,0,0)};d.new=function(m,t,n,a){return new b(m,t,n,a)};d.clone=function(m){return new b(m.x,m.y,m.z,m.w)};d.copy=function(m,t){m.x=t.x;m.y=t.y;m.z=t.z;m.w=t.w;return m};d.set=function(m,t,n,a,r){m.x=t;m.y=n;m.z=a;m.w=r;return m};d.add=function(m,t,n){m.x=t.x+n.x;m.y=t.y+n.y;m.z=t.z+n.z;m.w=t.w+n.w;return m};d.subtract=function(m,t,n){m.x=t.x-n.x;m.y=t.y-n.y;m.z=t.z-n.z;m.w=t.w-n.w;return m};d.sub=d.subtract;d.multiply=function(m,t,n){m.x=t.x*n.x;m.y=t.y*n.y;m.z=t.z*n.z;m.w=t.w*n.w;return m};d.mul=d.multiply;d.divide=function(m,t,n){m.x=t.x/n.x;m.y=t.y/n.y;m.z=t.z/n.z;m.w=t.w/n.w;return m};d.div=d.divide;d.ceil=function(m,t){m.x=Math.ceil(t.x);m.y=Math.ceil(t.y);m.z=Math.ceil(t.z);m.w=Math.ceil(t.w);return m};d.floor=function(m,t){m.x=Math.floor(t.x);m.y=Math.floor(t.y);m.z=Math.floor(t.z);m.w=Math.floor(t.w);return m};d.min=function(m,t,n){m.x=Math.min(t.x,n.x);m.y=Math.min(t.y,n.y);m.z=Math.min(t.z,n.z);m.w=Math.min(t.w,n.w);return m};d.max=function(m,t,n){m.x=Math.max(t.x,n.x);m.y=Math.max(t.y,n.y);m.z=Math.max(t.z,n.z);m.w=Math.max(t.w,n.w);return m};d.round=function(m,t){m.x=Math.round(t.x);m.y=Math.round(t.y);m.z=Math.round(t.z);m.w=Math.round(t.w);return m};d.scale=function(m,t,n){m.x=t.x*n;m.y=t.y*n;m.z=t.z*n;m.w=t.w*n;return m};d.scaleAndAdd=function(m,t,n,a){m.x=t.x+n.x*a;m.y=t.y+n.y*a;m.z=t.z+n.z*a;m.w=t.w+n.w*a;return m};d.distance=function(m,t){let n=t.x-m.x,a=t.y-m.y,r=t.z-m.z,u=t.w-m.w;return Math.sqrt(n*n+a*a+r*r+u*u)};d.dist=d.distance;d.squaredDistance=function(m,t){let n=t.x-m.x,a=t.y-m.y,r=t.z-m.z,u=t.w-m.w;return n*n+a*a+r*r+u*u};d.sqrDist=d.squaredDistance;d.length=function(m){let t=m.x,n=m.y,a=m.z,r=m.w;return Math.sqrt(t*t+n*n+a*a+r*r)};d.len=d.length;d.squaredLength=function(m){let t=m.x,n=m.y,a=m.z,r=m.w;return t*t+n*n+a*a+r*r};d.sqrLen=d.squaredLength;d.negate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=-t.w;return m};d.inverse=function(m,t){m.x=1/t.x;m.y=1/t.y;m.z=1/t.z;m.w=1/t.w;return m};d.inverseSafe=function(m,t){let n=t.x,r=t.y,u=t.z,e=t.w;if(Math.abs(n)<a){m.x=0}else{m.x=1/n}if(Math.abs(r)<a){m.y=0}else{m.y=1/r}if(Math.abs(u)<a){m.z=0}else{m.z=1/u}if(Math.abs(e)<a){m.w=0}else{m.w=1/e}return m};d.normalize=function(m,t){let n=t.x,a=t.y,r=t.z,u=t.w;let e=n*n+a*a+r*r+u*u;if(e>0){e=1/Math.sqrt(e);m.x=n*e;m.y=a*e;m.z=r*e;m.w=u*e}return m};d.dot=function(m,t){return m.x*t.x+m.y*t.y+m.z*t.z+m.w*t.w};d.lerp=function(m,t,n,a){let r=t.x,u=t.y,e=t.z,i=t.w;m.x=r+a*(n.x-r);m.y=u+a*(n.y-u);m.z=e+a*(n.z-e);m.w=i+a*(n.w-i);return m};d.random=function(m,t){t=t||1;m.x=M();m.y=M();m.z=M();m.w=M();d.normalize(m,m);d.scale(m,m,t);return m};d.transformMat4=function(m,t,n){let a=t.x,r=t.y,u=t.z,e=t.w;m.x=n.m00*a+n.m04*r+n.m08*u+n.m12*e;m.y=n.m01*a+n.m05*r+n.m09*u+n.m13*e;m.z=n.m02*a+n.m06*r+n.m10*u+n.m14*e;m.w=n.m03*a+n.m07*r+n.m11*u+n.m15*e;return m};d.transformQuat=function(m,t,n){let a=t.x,r=t.y,u=t.z;let e=n.x,i=n.y,o=n.z,s=n.w;let h=s*a+i*u-o*r;let c=s*r+o*a-e*u;let M=s*u+e*r-i*a;let f=-e*a-i*r-o*u;m.x=h*s+f*-e+c*-o-M*-i;m.y=c*s+f*-i+M*-e-h*-o;m.z=M*s+f*-o+h*-i-c*-e;m.w=t.w;return m};d.forEach=function(){let m=d.create();return function(t,n,a,r,u,e){let i,o;if(!n){n=4}if(!a){a=0}if(r){o=Math.min(r*n+a,t.length)}else{o=t.length}for(i=a;i<o;i+=n){m.x=t[i];m.y=t[i+1];m.z=t[i+2];m.w=t[i+3];u(m,m,e);t[i]=m.x;t[i+1]=m.y;t[i+2]=m.z;t[i+3]=m.w}return t}}();d.str=function(m){return`vec4(${m.x}, ${m.y}, ${m.z}, ${m.w})`};d.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};d.exactEquals=function(m,t){return m.x===t.x&&m.y===t.y&&m.z===t.z&&m.w===t.w};d.equals=function(m,t){let n=m.x,r=m.y,u=m.z,e=m.w;let i=t.x,o=t.y,s=t.z,h=t.w;return Math.abs(n-i)<=a*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-s)<=a*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-h)<=a*Math.max(1,Math.abs(e),Math.abs(h))};class p{constructor(m,t,n,a,r,u,e,i,o){this.m00=m;this.m01=t;this.m02=n;this.m03=a;this.m04=r;this.m05=u;this.m06=e;this.m07=i;this.m08=o}}let q={};q.create=function(){return new p(1,0,0,0,1,0,0,0,1)};q.new=function(m,t,n,a,r,u,e,i,o){return new p(m,t,n,a,r,u,e,i,o)};q.clone=function(m){return new p(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08)};q.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};q.set=function(m,t,n,a,r,u,e,i,o,s){m.m00=t;m.m01=n;m.m02=a;m.m03=r;m.m04=u;m.m05=e;m.m06=i;m.m07=o;m.m08=s;return m};q.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.transpose=function(m,t){if(m===t){let n=t.m01,a=t.m02,r=t.m05;m.m01=t.m03;m.m02=t.m06;m.m03=n;m.m05=t.m07;m.m06=a;m.m07=r}else{m.m00=t.m00;m.m01=t.m03;m.m02=t.m06;m.m03=t.m01;m.m04=t.m04;m.m05=t.m07;m.m06=t.m02;m.m07=t.m05;m.m08=t.m08}return m};q.invert=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08;let c=h*e-i*s;let M=-h*u+i*o;let f=s*u-e*o;let x=n*c+a*M+r*f;if(!x){return null}x=1/x;m.m00=c*x;m.m01=(-h*a+r*s)*x;m.m02=(i*a-r*e)*x;m.m03=M*x;m.m04=(h*n-r*o)*x;m.m05=(-i*n+r*u)*x;m.m06=f*x;m.m07=(-s*n+a*o)*x;m.m08=(e*n-a*u)*x;return m};q.adjoint=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08;m.m00=e*h-i*s;m.m01=r*s-a*h;m.m02=a*i-r*e;m.m03=i*o-u*h;m.m04=n*h-r*o;m.m05=r*u-n*i;m.m06=u*s-e*o;m.m07=a*o-n*s;m.m08=n*e-a*u;return m};q.determinant=function(m){let t=m.m00,n=m.m01,a=m.m02,r=m.m03,u=m.m04,e=m.m05,i=m.m06,o=m.m07,s=m.m08;return t*(s*u-e*o)+n*(-s*r+e*i)+a*(o*r-u*i)};q.multiply=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let M=n.m00,f=n.m01,x=n.m02;let y=n.m03,z=n.m04,l=n.m05;let w=n.m06,b=n.m07,d=n.m08;m.m00=M*a+f*e+x*s;m.m01=M*r+f*i+x*h;m.m02=M*u+f*o+x*c;m.m03=y*a+z*e+l*s;m.m04=y*r+z*i+l*h;m.m05=y*u+z*o+l*c;m.m06=w*a+b*e+d*s;m.m07=w*r+b*i+d*h;m.m08=w*u+b*o+d*c;return m};q.mul=q.multiply;q.translate=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let M=n.x,f=n.y;m.m00=a;m.m01=r;m.m02=u;m.m03=e;m.m04=i;m.m05=o;m.m06=M*a+f*e+s;m.m07=M*r+f*i+h;m.m08=M*u+f*o+c;return m};q.rotate=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08;let M=Math.sin(n);let f=Math.cos(n);m.m00=f*a+M*e;m.m01=f*r+M*i;m.m02=f*u+M*o;m.m03=f*e-M*a;m.m04=f*i-M*r;m.m05=f*o-M*u;m.m06=s;m.m07=h;m.m08=c;return m};q.scale=function(m,t,n){let a=n.x,r=n.y;m.m00=a*t.m00;m.m01=a*t.m01;m.m02=a*t.m02;m.m03=r*t.m03;m.m04=r*t.m04;m.m05=r*t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;return m};q.fromMat4=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m04;m.m04=t.m05;m.m05=t.m06;m.m06=t.m08;m.m07=t.m09;m.m08=t.m10;return m};q.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=1;m.m05=0;m.m06=t.x;m.m07=t.y;m.m08=1;return m};q.fromRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=a;m.m01=n;m.m02=0;m.m03=-n;m.m04=a;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=t.y;m.m05=0;m.m06=0;m.m07=0;m.m08=1;return m};q.fromMat2d=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=0;m.m03=t.m02;m.m04=t.m03;m.m05=0;m.m06=t.m04;m.m07=t.m05;m.m08=1;return m};q.fromQuat=function(m,t){let n=t.x,a=t.y,r=t.z,u=t.w;let e=n+n;let i=a+a;let o=r+r;let s=n*e;let h=a*e;let c=a*i;let M=r*e;let f=r*i;let x=r*o;let y=u*e;let z=u*i;let l=u*o;m.m00=1-c-x;m.m03=h-l;m.m06=M+z;m.m01=h+l;m.m04=1-s-x;m.m07=f-y;m.m02=M-z;m.m05=f+y;m.m08=1-s-c;return m};q.normalFromMat4=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,M=t.m10,f=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-a*e;let b=n*o-r*e;let d=n*s-u*e;let p=a*o-r*i;let q=a*s-u*i;let g=r*s-u*o;let v=h*y-c*x;let A=h*z-M*x;let S=h*l-f*x;let D=c*z-M*y;let L=c*l-f*y;let R=M*l-f*z;let E=w*R-b*L+d*D+p*S-q*A+g*v;if(!E){return null}E=1/E;m.m00=(i*R-o*L+s*D)*E;m.m01=(o*S-e*R-s*A)*E;m.m02=(e*L-i*S+s*v)*E;m.m03=(r*L-a*R-u*D)*E;m.m04=(n*R-r*S+u*A)*E;m.m05=(a*S-n*L-u*v)*E;m.m06=(y*g-z*q+l*p)*E;m.m07=(z*d-x*g-l*b)*E;m.m08=(x*q-y*d+l*w)*E;return m};q.str=function(m){return`mat3(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08})`};q.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;return m};q.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2))};q.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;return m};q.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;return m};q.sub=q.subtract;q.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;return m};q.multiplyScalarAndAdd=function(m,t,n,a){m.m00=t.m00+n.m00*a;m.m01=t.m01+n.m01*a;m.m02=t.m02+n.m02*a;m.m03=t.m03+n.m03*a;m.m04=t.m04+n.m04*a;m.m05=t.m05+n.m05*a;m.m06=t.m06+n.m06*a;m.m07=t.m07+n.m07*a;m.m08=t.m08+n.m08*a;return m};q.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08};q.equals=function(m,t){let n=m.m00,r=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05,s=m.m06,h=m.m07,c=m.m08;let M=t.m00,f=t.m01,x=t.m02,y=t.m03,z=t.m04,l=t.m05,w=t.m06,b=t.m07,d=t.m08;return Math.abs(n-M)<=a*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(r-f)<=a*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(u-x)<=a*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(e-y)<=a*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(i-z)<=a*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(o-l)<=a*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-w)<=a*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(h-b)<=a*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(c-d)<=a*Math.max(1,Math.abs(c),Math.abs(d))};class g{constructor(m,t,n,a){this.x=m;this.y=t;this.z=n;this.w=a}}let v={};v.create=function(){return new g(0,0,0,1)};v.new=d.new;v.clone=d.clone;v.copy=d.copy;v.set=d.set;v.identity=function(m){m.x=0;m.y=0;m.z=0;m.w=1;return m};v.rotationTo=function(){let m=w.create();let t=w.new(1,0,0);let n=w.new(0,1,0);return function(a,r,u){let e=w.dot(r,u);if(e<-.999999){w.cross(m,t,r);if(w.length(m)<1e-6){w.cross(m,n,r)}w.normalize(m,m);v.fromAxisAngle(a,m,Math.PI);return a}else if(e>.999999){a.x=0;a.y=0;a.z=0;a.w=1;return a}else{w.cross(m,r,u);a.x=m.x;a.y=m.y;a.z=m.z;a.w=1+e;return v.normalize(a,a)}}}();v.getAxisAngle=function(m,t){let n=Math.acos(t.w)*2;let a=Math.sin(n/2);if(a!=0){m.x=t.x/a;m.y=t.y/a;m.z=t.z/a}else{m.x=1;m.y=0;m.z=0}return n};v.add=d.add;v.multiply=function(m,t,n){let a=t.x,r=t.y,u=t.z,e=t.w,i=n.x,o=n.y,s=n.z,h=n.w;m.x=a*h+e*i+r*s-u*o;m.y=r*h+e*o+u*i-a*s;m.z=u*h+e*s+a*o-r*i;m.w=e*h-a*i-r*o-u*s;return m};v.mul=v.multiply;v.scale=d.scale;v.rotateX=function(m,t,n){n*=.5;let a=t.x,r=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=a*o+e*i;m.y=r*o+u*i;m.z=u*o-r*i;m.w=e*o-a*i;return m};v.rotateY=function(m,t,n){n*=.5;let a=t.x,r=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=a*o-u*i;m.y=r*o+e*i;m.z=u*o+a*i;m.w=e*o-r*i;return m};v.rotateZ=function(m,t,n){n*=.5;let a=t.x,r=t.y,u=t.z,e=t.w,i=Math.sin(n),o=Math.cos(n);m.x=a*o+r*i;m.y=r*o-a*i;m.z=u*o+e*i;m.w=e*o-u*i;return m};v.calculateW=function(m,t){let n=t.x,a=t.y,r=t.z;m.x=n;m.y=a;m.z=r;m.w=Math.sqrt(Math.abs(1-n*n-a*a-r*r));return m};v.dot=d.dot;v.lerp=d.lerp;v.slerp=function(m,t,n,a){let r=t.x,u=t.y,e=t.z,i=t.w,o=n.x,s=n.y,h=n.z,c=n.w;let M,f,x,y,z;f=r*o+u*s+e*h+i*c;if(f<0){f=-f;o=-o;s=-s;h=-h;c=-c}if(1-f>1e-6){M=Math.acos(f);x=Math.sin(M);y=Math.sin((1-a)*M)/x;z=Math.sin(a*M)/x}else{y=1-a;z=a}m.x=y*r+z*o;m.y=y*u+z*s;m.z=y*e+z*h;m.w=y*i+z*c;return m};v.sqlerp=function(){let m=v.create();let t=v.create();return function(n,a,r,u,e,i){v.slerp(m,a,e,i);v.slerp(t,r,u,i);v.slerp(n,m,t,2*i*(1-i));return n}}();v.invert=function(m,t){let n=t.x,a=t.y,r=t.z,u=t.w;let e=n*n+a*a+r*r+u*u;let i=e?1/e:0;m.x=-n*i;m.y=-a*i;m.z=-r*i;m.w=u*i;return m};v.conjugate=function(m,t){m.x=-t.x;m.y=-t.y;m.z=-t.z;m.w=t.w;return m};v.length=d.length;v.len=v.length;v.squaredLength=d.squaredLength;v.sqrLen=v.squaredLength;v.normalize=d.normalize;v.fromAxes=function(){let m=q.create();return function(t,n,a,r){q.set(m,n.x,n.y,n.z,a.x,a.y,a.z,r.x,r.y,r.z);return v.normalize(t,v.fromMat3(t,m))}}();v.fromAxisAngle=function(m,t,n){n=n*.5;let a=Math.sin(n);m.x=a*t.x;m.y=a*t.y;m.z=a*t.z;m.w=Math.cos(n);return m};v.fromMat3=function(m,t){let n=t.m00,a=t.m03,r=t.m06,u=t.m01,e=t.m04,i=t.m07,o=t.m02,s=t.m05,h=t.m08;let c=n+e+h;if(c>0){let t=.5/Math.sqrt(c+1);m.w=.25/t;m.x=(s-i)*t;m.y=(r-o)*t;m.z=(u-a)*t}else if(n>e&&n>h){let t=2*Math.sqrt(1+n-e-h);m.w=(s-i)/t;m.x=.25*t;m.y=(a+u)/t;m.z=(r+o)/t}else if(e>h){let t=2*Math.sqrt(1+e-n-h);m.w=(r-o)/t;m.x=(a+u)/t;m.y=.25*t;m.z=(i+s)/t}else{let t=2*Math.sqrt(1+h-n-e);m.w=(u-a)/t;m.x=(r+o)/t;m.y=(i+s)/t;m.z=.25*t}return m};v.fromEuler=function(m,t,n,a){let r=.5*Math.PI/180;t*=r;n*=r;a*=r;let u=Math.sin(t);let e=Math.cos(t);let i=Math.sin(n);let o=Math.cos(n);let s=Math.sin(a);let h=Math.cos(a);m.x=u*o*h-e*i*s;m.y=e*i*h+u*o*s;m.z=e*o*s-u*i*h;m.w=e*o*h+u*i*s;return m};v.str=function(m){return`quat(${m.x}, ${m.y}, ${m.z}, ${m.w})`};v.array=function(m,t){m[0]=t.x;m[1]=t.y;m[2]=t.z;m[3]=t.w;return m};v.exactEquals=d.exactEquals;v.equals=d.equals;class A{constructor(m,t,n,a){this.m00=m;this.m01=t;this.m02=n;this.m03=a}}let S={};S.create=function(){return new A(1,0,0,1)};S.new=function(m,t,n,a){return new A(m,t,n,a)};S.clone=function(m){return new A(m.m00,m.m01,m.m02,m.m03)};S.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;return m};S.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;return m};S.set=function(m,t,n,a,r){m.m00=t;m.m01=n;m.m02=a;m.m03=r;return m};S.transpose=function(m,t){if(m===t){let n=t.m01;m.m01=t.m02;m.m02=n}else{m.m00=t.m00;m.m01=t.m02;m.m02=t.m01;m.m03=t.m03}return m};S.invert=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03;let e=n*u-r*a;if(!e){return null}e=1/e;m.m00=u*e;m.m01=-a*e;m.m02=-r*e;m.m03=n*e;return m};S.adjoint=function(m,t){let n=t.m00;m.m00=t.m03;m.m01=-t.m01;m.m02=-t.m02;m.m03=n;return m};S.determinant=function(m){return m.m00*m.m03-m.m02*m.m01};S.multiply=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03;let i=n.m00,o=n.m01,s=n.m02,h=n.m03;m.m00=a*i+u*o;m.m01=r*i+e*o;m.m02=a*s+u*h;m.m03=r*s+e*h;return m};S.mul=S.multiply;S.rotate=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=Math.sin(n),o=Math.cos(n);m.m00=a*o+u*i;m.m01=r*o+e*i;m.m02=a*-i+u*o;m.m03=r*-i+e*o;return m};S.scale=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=n.x,o=n.y;m.m00=a*i;m.m01=r*i;m.m02=u*o;m.m03=e*o;return m};S.fromRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=a;m.m01=n;m.m02=-n;m.m03=a;return m};S.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=t.y;return m};S.str=function(m){return`mat2(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03})`};S.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;return m};S.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2))};S.LDU=function(m,t,n,a){m.m02=a.m02/a.m00;n.m00=a.m00;n.m01=a.m01;n.m03=a.m03-m.m02*n.m01};S.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;return m};S.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;return m};S.sub=S.subtract;S.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03};S.equals=function(m,t){let n=m.m00,r=m.m01,u=m.m02,e=m.m03;let i=t.m00,o=t.m01,s=t.m02,h=t.m03;return Math.abs(n-i)<=a*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-s)<=a*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-h)<=a*Math.max(1,Math.abs(e),Math.abs(h))};S.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;return m};S.multiplyScalarAndAdd=function(m,t,n,a){m.m00=t.m00+n.m00*a;m.m01=t.m01+n.m01*a;m.m02=t.m02+n.m02*a;m.m03=t.m03+n.m03*a;return m};class D{constructor(m,t,n,a,r,u){this.m00=m;this.m01=t;this.m02=n;this.m03=a;this.m04=r;this.m05=u}}let L={};L.create=function(){return new D(1,0,0,1,0,0)};L.new=function(m,t,n,a,r,u){return new D(m,t,n,a,r,u)};L.clone=function(m){return new D(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05)};L.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;return m};L.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=0;m.m05=0;return m};L.set=function(m,t,n,a,r,u,e){m.m00=t;m.m01=n;m.m02=a;m.m03=r;m.m04=u;m.m05=e;return m};L.invert=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05;let o=n*u-a*r;if(!o){return null}o=1/o;m.m00=u*o;m.m01=-a*o;m.m02=-r*o;m.m03=n*o;m.m04=(r*i-u*e)*o;m.m05=(a*e-n*i)*o;return m};L.determinant=function(m){return m.m00*m.m03-m.m01*m.m02};L.multiply=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.m00,h=n.m01,c=n.m02,M=n.m03,f=n.m04,x=n.m05;m.m00=a*s+u*h;m.m01=r*s+e*h;m.m02=a*c+u*M;m.m03=r*c+e*M;m.m04=a*f+u*x+i;m.m05=r*f+e*x+o;return m};L.mul=L.multiply;L.rotate=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=Math.sin(n),h=Math.cos(n);m.m00=a*h+u*s;m.m01=r*h+e*s;m.m02=a*-s+u*h;m.m03=r*-s+e*h;m.m04=i;m.m05=o;return m};L.scale=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.x,h=n.y;m.m00=a*s;m.m01=r*s;m.m02=u*h;m.m03=e*h;m.m04=i;m.m05=o;return m};L.translate=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=n.x,h=n.y;m.m00=a;m.m01=r;m.m02=u;m.m03=e;m.m04=a*s+u*h+i;m.m05=r*s+e*h+o;return m};L.fromRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=a;m.m01=n;m.m02=-n;m.m03=a;m.m04=0;m.m05=0;return m};L.fromScaling=function(m,t){m.m00=t.m00;m.m01=0;m.m02=0;m.m03=t.m01;m.m04=0;m.m05=0;return m};L.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=1;m.m04=t.x;m.m05=t.y;return m};L.str=function(m){return`mat23(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05})`};L.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;return m};L.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+1)};L.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;return m};L.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;return m};L.sub=L.subtract;L.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;return m};L.multiplyScalarAndAdd=function(m,t,n,a){m.m00=t.m00+n.m00*a;m.m01=t.m01+n.m01*a;m.m02=t.m02+n.m02*a;m.m03=t.m03+n.m03*a;m.m04=t.m04+n.m04*a;m.m05=t.m05+n.m05*a;return m};L.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05};L.equals=function(m,t){let n=m.m00,r=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05;let s=t.m00,h=t.m01,c=t.m02,M=t.m03,f=t.m04,x=t.m05;return Math.abs(n-s)<=a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-h)<=a*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(u-c)<=a*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(e-M)<=a*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(i-f)<=a*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-x)<=a*Math.max(1,Math.abs(o),Math.abs(x))};class R{constructor(m,t,n,a,r,u,e,i,o,s,h,c,M,f,x,y){this.m00=m;this.m01=t;this.m02=n;this.m03=a;this.m04=r;this.m05=u;this.m06=e;this.m07=i;this.m08=o;this.m09=s;this.m10=h;this.m11=c;this.m12=M;this.m13=f;this.m14=x;this.m15=y}}let E={};E.create=function(){return new R(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};E.new=function(m,t,n,a,r,u,e,i,o,s,h,c,M,f,x,y){return new R(m,t,n,a,r,u,e,i,o,s,h,c,M,f,x,y)};E.clone=function(m){return new R(m.m00,m.m01,m.m02,m.m03,m.m04,m.m05,m.m06,m.m07,m.m08,m.m09,m.m10,m.m11,m.m12,m.m13,m.m14,m.m15)};E.copy=function(m,t){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};E.set=function(m,t,n,a,r,u,e,i,o,s,h,c,M,f,x,y,z){m.m00=t;m.m01=n;m.m02=a;m.m03=r;m.m04=u;m.m05=e;m.m06=i;m.m07=o;m.m08=s;m.m09=h;m.m10=c;m.m11=M;m.m12=f;m.m13=x;m.m14=y;m.m15=z;return m};E.identity=function(m){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.transpose=function(m,t){if(m===t){let n=t.m01,a=t.m02,r=t.m03,u=t.m06,e=t.m07,i=t.m11;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=n;m.m06=t.m09;m.m07=t.m13;m.m08=a;m.m09=u;m.m11=t.m14;m.m12=r;m.m13=e;m.m14=i}else{m.m00=t.m00;m.m01=t.m04;m.m02=t.m08;m.m03=t.m12;m.m04=t.m01;m.m05=t.m05;m.m06=t.m09;m.m07=t.m13;m.m08=t.m02;m.m09=t.m06;m.m10=t.m10;m.m11=t.m14;m.m12=t.m03;m.m13=t.m07;m.m14=t.m11;m.m15=t.m15}return m};E.invert=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,M=t.m10,f=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;let w=n*i-a*e;let b=n*o-r*e;let d=n*s-u*e;let p=a*o-r*i;let q=a*s-u*i;let g=r*s-u*o;let v=h*y-c*x;let A=h*z-M*x;let S=h*l-f*x;let D=c*z-M*y;let L=c*l-f*y;let R=M*l-f*z;let E=w*R-b*L+d*D+p*S-q*A+g*v;if(!E){return null}E=1/E;m.m00=(i*R-o*L+s*D)*E;m.m01=(r*L-a*R-u*D)*E;m.m02=(y*g-z*q+l*p)*E;m.m03=(M*q-c*g-f*p)*E;m.m04=(o*S-e*R-s*A)*E;m.m05=(n*R-r*S+u*A)*E;m.m06=(z*d-x*g-l*b)*E;m.m07=(h*g-M*d+f*b)*E;m.m08=(e*L-i*S+s*v)*E;m.m09=(a*S-n*L-u*v)*E;m.m10=(x*q-y*d+l*w)*E;m.m11=(c*d-h*q-f*w)*E;m.m12=(i*A-e*D-o*v)*E;m.m13=(n*D-a*A+r*v)*E;m.m14=(y*b-x*p-z*w)*E;m.m15=(h*p-c*b+M*w)*E;return m};E.adjoint=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m03,e=t.m04,i=t.m05,o=t.m06,s=t.m07,h=t.m08,c=t.m09,M=t.m10,f=t.m11,x=t.m12,y=t.m13,z=t.m14,l=t.m15;m.m00=i*(M*l-f*z)-c*(o*l-s*z)+y*(o*f-s*M);m.m01=-(a*(M*l-f*z)-c*(r*l-u*z)+y*(r*f-u*M));m.m02=a*(o*l-s*z)-i*(r*l-u*z)+y*(r*s-u*o);m.m03=-(a*(o*f-s*M)-i*(r*f-u*M)+c*(r*s-u*o));m.m04=-(e*(M*l-f*z)-h*(o*l-s*z)+x*(o*f-s*M));m.m05=n*(M*l-f*z)-h*(r*l-u*z)+x*(r*f-u*M);m.m06=-(n*(o*l-s*z)-e*(r*l-u*z)+x*(r*s-u*o));m.m07=n*(o*f-s*M)-e*(r*f-u*M)+h*(r*s-u*o);m.m08=e*(c*l-f*y)-h*(i*l-s*y)+x*(i*f-s*c);m.m09=-(n*(c*l-f*y)-h*(a*l-u*y)+x*(a*f-u*c));m.m10=n*(i*l-s*y)-e*(a*l-u*y)+x*(a*s-u*i);m.m11=-(n*(i*f-s*c)-e*(a*f-u*c)+h*(a*s-u*i));m.m12=-(e*(c*z-M*y)-h*(i*z-o*y)+x*(i*M-o*c));m.m13=n*(c*z-M*y)-h*(a*z-r*y)+x*(a*M-r*c);m.m14=-(n*(i*z-o*y)-e*(a*z-r*y)+x*(a*o-r*i));m.m15=n*(i*M-o*c)-e*(a*M-r*c)+h*(a*o-r*i);return m};E.determinant=function(m){let t=m.m00,n=m.m01,a=m.m02,r=m.m03,u=m.m04,e=m.m05,i=m.m06,o=m.m07,s=m.m08,h=m.m09,c=m.m10,M=m.m11,f=m.m12,x=m.m13,y=m.m14,z=m.m15;let l=t*e-n*u;let w=t*i-a*u;let b=t*o-r*u;let d=n*i-a*e;let p=n*o-r*e;let q=a*o-r*i;let g=s*x-h*f;let v=s*y-c*f;let A=s*z-M*f;let S=h*y-c*x;let D=h*z-M*x;let L=c*z-M*y;return l*L-w*D+b*S+d*A-p*v+q*g};E.multiply=function(m,t,n){let a=t.m00,r=t.m01,u=t.m02,e=t.m03,i=t.m04,o=t.m05,s=t.m06,h=t.m07,c=t.m08,M=t.m09,f=t.m10,x=t.m11,y=t.m12,z=t.m13,l=t.m14,w=t.m15
;let b=n.m00,d=n.m01,p=n.m02,q=n.m03;m.m00=b*a+d*i+p*c+q*y;m.m01=b*r+d*o+p*M+q*z;m.m02=b*u+d*s+p*f+q*l;m.m03=b*e+d*h+p*x+q*w;b=n.m04;d=n.m05;p=n.m06;q=n.m07;m.m04=b*a+d*i+p*c+q*y;m.m05=b*r+d*o+p*M+q*z;m.m06=b*u+d*s+p*f+q*l;m.m07=b*e+d*h+p*x+q*w;b=n.m08;d=n.m09;p=n.m10;q=n.m11;m.m08=b*a+d*i+p*c+q*y;m.m09=b*r+d*o+p*M+q*z;m.m10=b*u+d*s+p*f+q*l;m.m11=b*e+d*h+p*x+q*w;b=n.m12;d=n.m13;p=n.m14;q=n.m15;m.m12=b*a+d*i+p*c+q*y;m.m13=b*r+d*o+p*M+q*z;m.m14=b*u+d*s+p*f+q*l;m.m15=b*e+d*h+p*x+q*w;return m};E.mul=E.multiply;E.translate=function(m,t,n){let a=n.x,r=n.y,u=n.z,e,i,o,s,h,c,M,f,x,y,z,l;if(t===m){m.m12=t.m00*a+t.m04*r+t.m08*u+t.m12;m.m13=t.m01*a+t.m05*r+t.m09*u+t.m13;m.m14=t.m02*a+t.m06*r+t.m10*u+t.m14;m.m15=t.m03*a+t.m07*r+t.m11*u+t.m15}else{e=t.m00;i=t.m01;o=t.m02;s=t.m03;h=t.m04;c=t.m05;M=t.m06;f=t.m07;x=t.m08;y=t.m09;z=t.m10;l=t.m11;m.m00=e;m.m01=i;m.m02=o;m.m03=s;m.m04=h;m.m05=c;m.m06=M;m.m07=f;m.m08=x;m.m09=y;m.m10=z;m.m11=l;m.m12=e*a+h*r+x*u+t.m12;m.m13=i*a+c*r+y*u+t.m13;m.m14=o*a+M*r+z*u+t.m14;m.m15=s*a+f*r+l*u+t.m15}return m};E.scale=function(m,t,n){let a=n.x,r=n.y,u=n.z;m.m00=t.m00*a;m.m01=t.m01*a;m.m02=t.m02*a;m.m03=t.m03*a;m.m04=t.m04*r;m.m05=t.m05*r;m.m06=t.m06*r;m.m07=t.m07*r;m.m08=t.m08*u;m.m09=t.m09*u;m.m10=t.m10*u;m.m11=t.m11*u;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15;return m};E.rotate=function(m,t,n,r){let u=r.x,e=r.y,i=r.z;let o,s,h,c,M,f,x,y,z,l,w,b,d,p,q,g,v,A,S,D,L,R,E,I;let P=Math.sqrt(u*u+e*e+i*i);if(Math.abs(P)<a){return null}P=1/P;u*=P;e*=P;i*=P;o=Math.sin(n);s=Math.cos(n);h=1-s;c=t.m00;M=t.m01;f=t.m02;x=t.m03;y=t.m04;z=t.m05;l=t.m06;w=t.m07;b=t.m08;d=t.m09;p=t.m10;q=t.m11;g=u*u*h+s;v=e*u*h+i*o;A=i*u*h-e*o;S=u*e*h-i*o;D=e*e*h+s;L=i*e*h+u*o;R=u*i*h+e*o;E=e*i*h-u*o;I=i*i*h+s;m.m00=c*g+y*v+b*A;m.m01=M*g+z*v+d*A;m.m02=f*g+l*v+p*A;m.m03=x*g+w*v+q*A;m.m04=c*S+y*D+b*L;m.m05=M*S+z*D+d*L;m.m06=f*S+l*D+p*L;m.m07=x*S+w*D+q*L;m.m08=c*R+y*E+b*I;m.m09=M*R+z*E+d*I;m.m10=f*R+l*E+p*I;m.m11=x*R+w*E+q*I;if(t!==m){m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}return m};E.rotateX=function(m,t,n){let a=Math.sin(n),r=Math.cos(n),u=t.m04,e=t.m05,i=t.m06,o=t.m07,s=t.m08,h=t.m09,c=t.m10,M=t.m11;if(t!==m){m.m00=t.m00;m.m01=t.m01;m.m02=t.m02;m.m03=t.m03;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m04=u*r+s*a;m.m05=e*r+h*a;m.m06=i*r+c*a;m.m07=o*r+M*a;m.m08=s*r-u*a;m.m09=h*r-e*a;m.m10=c*r-i*a;m.m11=M*r-o*a;return m};E.rotateY=function(m,t,n){let a=Math.sin(n),r=Math.cos(n),u=t.m00,e=t.m01,i=t.m02,o=t.m03,s=t.m08,h=t.m09,c=t.m10,M=t.m11;if(t!==m){m.m04=t.m04;m.m05=t.m05;m.m06=t.m06;m.m07=t.m07;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=u*r-s*a;m.m01=e*r-h*a;m.m02=i*r-c*a;m.m03=o*r-M*a;m.m08=u*a+s*r;m.m09=e*a+h*r;m.m10=i*a+c*r;m.m11=o*a+M*r;return m};E.rotateZ=function(m,t,n){let a=Math.sin(n),r=Math.cos(n),u=t.m00,e=t.m01,i=t.m02,o=t.m03,s=t.m04,h=t.m05,c=t.m06,M=t.m07;if(t!==m){m.m08=t.m08;m.m09=t.m09;m.m10=t.m10;m.m11=t.m11;m.m12=t.m12;m.m13=t.m13;m.m14=t.m14;m.m15=t.m15}m.m00=u*r+s*a;m.m01=e*r+h*a;m.m02=i*r+c*a;m.m03=o*r+M*a;m.m04=s*r-u*a;m.m05=h*r-e*a;m.m06=c*r-i*a;m.m07=M*r-o*a;return m};E.fromTranslation=function(m,t){m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=t.x;m.m13=t.y;m.m14=t.z;m.m15=1;return m};E.fromScaling=function(m,t){m.m00=t.x;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=t.y;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=t.z;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromRotation=function(m,t,n){let r=n.x,u=n.y,e=n.z;let i=Math.sqrt(r*r+u*u+e*e);let o,s,h;if(Math.abs(i)<a){return null}i=1/i;r*=i;u*=i;e*=i;o=Math.sin(t);s=Math.cos(t);h=1-s;m.m00=r*r*h+s;m.m01=u*r*h+e*o;m.m02=e*r*h-u*o;m.m03=0;m.m04=r*u*h-e*o;m.m05=u*u*h+s;m.m06=e*u*h+r*o;m.m07=0;m.m08=r*e*h+u*o;m.m09=u*e*h-r*o;m.m10=e*e*h+s;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromXRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=1;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=a;m.m06=n;m.m07=0;m.m08=0;m.m09=-n;m.m10=a;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromYRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=a;m.m01=0;m.m02=-n;m.m03=0;m.m04=0;m.m05=1;m.m06=0;m.m07=0;m.m08=n;m.m09=0;m.m10=a;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromZRotation=function(m,t){let n=Math.sin(t),a=Math.cos(t);m.m00=a;m.m01=n;m.m02=0;m.m03=0;m.m04=-n;m.m05=a;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=1;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.fromRT=function(m,t,n){let a=t.x,r=t.y,u=t.z,e=t.w;let i=a+a;let o=r+r;let s=u+u;let h=a*i;let c=a*o;let M=a*s;let f=r*o;let x=r*s;let y=u*s;let z=e*i;let l=e*o;let w=e*s;m.m00=1-(f+y);m.m01=c+w;m.m02=M-l;m.m03=0;m.m04=c-w;m.m05=1-(h+y);m.m06=x+z;m.m07=0;m.m08=M+l;m.m09=x-z;m.m10=1-(h+f);m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};E.getTranslation=function(m,t){m.x=t.m12;m.y=t.m13;m.z=t.m14;return m};E.getScaling=function(m,t){let n=t.m00,a=t.m01,r=t.m02,u=t.m04,e=t.m05,i=t.m06,o=t.m08,s=t.m09,h=t.m10;m.x=Math.sqrt(n*n+a*a+r*r);m.y=Math.sqrt(u*u+e*e+i*i);m.z=Math.sqrt(o*o+s*s+h*h);return m};E.getRotation=function(m,t){let n=t.m00+t.m05+t.m10;let a=0;if(n>0){a=Math.sqrt(n+1)*2;m.w=.25*a;m.x=(t.m06-t.m09)/a;m.y=(t.m08-t.m02)/a;m.z=(t.m01-t.m04)/a}else if(t.m00>t.m05&t.m00>t.m10){a=Math.sqrt(1+t.m00-t.m05-t.m10)*2;m.w=(t.m06-t.m09)/a;m.x=.25*a;m.y=(t.m01+t.m04)/a;m.z=(t.m08+t.m02)/a}else if(t.m05>t.m10){a=Math.sqrt(1+t.m05-t.m00-t.m10)*2;m.w=(t.m08-t.m02)/a;m.x=(t.m01+t.m04)/a;m.y=.25*a;m.z=(t.m06+t.m09)/a}else{a=Math.sqrt(1+t.m10-t.m00-t.m05)*2;m.w=(t.m01-t.m04)/a;m.x=(t.m08+t.m02)/a;m.y=(t.m06+t.m09)/a;m.z=.25*a}return m};E.fromRTS=function(m,t,n,a){let r=t.x,u=t.y,e=t.z,i=t.w;let o=r+r;let s=u+u;let h=e+e;let c=r*o;let M=r*s;let f=r*h;let x=u*s;let y=u*h;let z=e*h;let l=i*o;let w=i*s;let b=i*h;let d=a.x;let p=a.y;let q=a.z;m.m00=(1-(x+z))*d;m.m01=(M+b)*d;m.m02=(f-w)*d;m.m03=0;m.m04=(M-b)*p;m.m05=(1-(c+z))*p;m.m06=(y+l)*p;m.m07=0;m.m08=(f+w)*q;m.m09=(y-l)*q;m.m10=(1-(c+x))*q;m.m11=0;m.m12=n.x;m.m13=n.y;m.m14=n.z;m.m15=1;return m};E.fromRTSOrigin=function(m,t,n,a,r){let u=t.x,e=t.y,i=t.z,o=t.w;let s=u+u;let h=e+e;let c=i+i;let M=u*s;let f=u*h;let x=u*c;let y=e*h;let z=e*c;let l=i*c;let w=o*s;let b=o*h;let d=o*c;let p=a.x;let q=a.y;let g=a.z;let v=r.x;let A=r.y;let S=r.z;m.m00=(1-(y+l))*p;m.m01=(f+d)*p;m.m02=(x-b)*p;m.m03=0;m.m04=(f-d)*q;m.m05=(1-(M+l))*q;m.m06=(z+w)*q;m.m07=0;m.m08=(x+b)*g;m.m09=(z-w)*g;m.m10=(1-(M+y))*g;m.m11=0;m.m12=n.x+v-(m.m00*v+m.m04*A+m.m08*S);m.m13=n.y+A-(m.m01*v+m.m05*A+m.m09*S);m.m14=n.z+S-(m.m02*v+m.m06*A+m.m10*S);m.m15=1;return m};E.fromQuat=function(m,t){let n=t.x,a=t.y,r=t.z,u=t.w;let e=n+n;let i=a+a;let o=r+r;let s=n*e;let h=a*e;let c=a*i;let M=r*e;let f=r*i;let x=r*o;let y=u*e;let z=u*i;let l=u*o;m.m00=1-c-x;m.m01=h+l;m.m02=M-z;m.m03=0;m.m04=h-l;m.m05=1-s-x;m.m06=f+y;m.m07=0;m.m08=M+z;m.m09=f-y;m.m10=1-s-c;m.m11=0;m.m12=0;m.m13=0;m.m14=0;m.m15=1;return m};E.frustum=function(m,t,n,a,r,u,e){let i=1/(n-t);let o=1/(r-a);let s=1/(u-e);m.m00=u*2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=u*2*o;m.m06=0;m.m07=0;m.m08=(n+t)*i;m.m09=(r+a)*o;m.m10=(e+u)*s;m.m11=-1;m.m12=0;m.m13=0;m.m14=e*u*2*s;m.m15=0;return m};E.perspective=function(m,t,n,a,r){let u=1/Math.tan(t/2);let e=1/(a-r);m.m00=u/n;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=u;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=(r+a)*e;m.m11=-1;m.m12=0;m.m13=0;m.m14=2*r*a*e;m.m15=0;return m};E.perspectiveFromFieldOfView=function(m,t,n,a){let r=Math.tan(t.upDegrees*Math.PI/180);let u=Math.tan(t.downDegrees*Math.PI/180);let e=Math.tan(t.leftDegrees*Math.PI/180);let i=Math.tan(t.rightDegrees*Math.PI/180);let o=2/(e+i);let s=2/(r+u);m.m00=o;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=s;m.m06=0;m.m07=0;m.m08=-((e-i)*o*.5);m.m09=(r-u)*s*.5;m.m10=a/(n-a);m.m11=-1;m.m12=0;m.m13=0;m.m14=a*n/(n-a);m.m15=0;return m};E.ortho=function(m,t,n,a,r,u,e){let i=1/(t-n);let o=1/(a-r);let s=1/(u-e);m.m00=-2*i;m.m01=0;m.m02=0;m.m03=0;m.m04=0;m.m05=-2*o;m.m06=0;m.m07=0;m.m08=0;m.m09=0;m.m10=2*s;m.m11=0;m.m12=(t+n)*i;m.m13=(r+a)*o;m.m14=(e+u)*s;m.m15=1;return m};E.lookAt=function(m,t,n,r){let u,e,i,o,s,h,c,M,f,x;let y=t.x;let z=t.y;let l=t.z;let w=r.x;let b=r.y;let d=r.z;let p=n.x;let q=n.y;let g=n.z;if(Math.abs(y-p)<a&&Math.abs(z-q)<a&&Math.abs(l-g)<a){return E.identity(m)}c=y-p;M=z-q;f=l-g;x=1/Math.sqrt(c*c+M*M+f*f);c*=x;M*=x;f*=x;u=b*f-d*M;e=d*c-w*f;i=w*M-b*c;x=Math.sqrt(u*u+e*e+i*i);if(!x){u=0;e=0;i=0}else{x=1/x;u*=x;e*=x;i*=x}o=M*i-f*e;s=f*u-c*i;h=c*e-M*u;x=Math.sqrt(o*o+s*s+h*h);if(!x){o=0;s=0;h=0}else{x=1/x;o*=x;s*=x;h*=x}m.m00=u;m.m01=o;m.m02=c;m.m03=0;m.m04=e;m.m05=s;m.m06=M;m.m07=0;m.m08=i;m.m09=h;m.m10=f;m.m11=0;m.m12=-(u*y+e*z+i*l);m.m13=-(o*y+s*z+h*l);m.m14=-(c*y+M*z+f*l);m.m15=1;return m};E.str=function(m){return`mat4(${m.m00}, ${m.m01}, ${m.m02}, ${m.m03}, ${m.m04}, ${m.m05}, ${m.m06}, ${m.m07}, ${m.m08}, ${m.m09}, ${m.m10}, ${m.m11}, ${m.m12}, ${m.m13}, ${m.m14}, ${m.m15})`};E.array=function(m,t){m[0]=t.m00;m[1]=t.m01;m[2]=t.m02;m[3]=t.m03;m[4]=t.m04;m[5]=t.m05;m[6]=t.m06;m[7]=t.m07;m[8]=t.m08;m[9]=t.m09;m[10]=t.m10;m[11]=t.m11;m[12]=t.m12;m[13]=t.m13;m[14]=t.m14;m[15]=t.m15;return m};E.frob=function(m){return Math.sqrt(Math.pow(m.m00,2)+Math.pow(m.m01,2)+Math.pow(m.m02,2)+Math.pow(m.m03,2)+Math.pow(m.m04,2)+Math.pow(m.m05,2)+Math.pow(m.m06,2)+Math.pow(m.m07,2)+Math.pow(m.m08,2)+Math.pow(m.m09,2)+Math.pow(m.m10,2)+Math.pow(m.m11,2)+Math.pow(m.m12,2)+Math.pow(m.m13,2)+Math.pow(m.m14,2)+Math.pow(m.m15,2))};E.add=function(m,t,n){m.m00=t.m00+n.m00;m.m01=t.m01+n.m01;m.m02=t.m02+n.m02;m.m03=t.m03+n.m03;m.m04=t.m04+n.m04;m.m05=t.m05+n.m05;m.m06=t.m06+n.m06;m.m07=t.m07+n.m07;m.m08=t.m08+n.m08;m.m09=t.m09+n.m09;m.m10=t.m10+n.m10;m.m11=t.m11+n.m11;m.m12=t.m12+n.m12;m.m13=t.m13+n.m13;m.m14=t.m14+n.m14;m.m15=t.m15+n.m15;return m};E.subtract=function(m,t,n){m.m00=t.m00-n.m00;m.m01=t.m01-n.m01;m.m02=t.m02-n.m02;m.m03=t.m03-n.m03;m.m04=t.m04-n.m04;m.m05=t.m05-n.m05;m.m06=t.m06-n.m06;m.m07=t.m07-n.m07;m.m08=t.m08-n.m08;m.m09=t.m09-n.m09;m.m10=t.m10-n.m10;m.m11=t.m11-n.m11;m.m12=t.m12-n.m12;m.m13=t.m13-n.m13;m.m14=t.m14-n.m14;m.m15=t.m15-n.m15;return m};E.sub=E.subtract;E.multiplyScalar=function(m,t,n){m.m00=t.m00*n;m.m01=t.m01*n;m.m02=t.m02*n;m.m03=t.m03*n;m.m04=t.m04*n;m.m05=t.m05*n;m.m06=t.m06*n;m.m07=t.m07*n;m.m08=t.m08*n;m.m09=t.m09*n;m.m10=t.m10*n;m.m11=t.m11*n;m.m12=t.m12*n;m.m13=t.m13*n;m.m14=t.m14*n;m.m15=t.m15*n;return m};E.multiplyScalarAndAdd=function(m,t,n,a){m.m00=t.m00+n.m00*a;m.m01=t.m01+n.m01*a;m.m02=t.m02+n.m02*a;m.m03=t.m03+n.m03*a;m.m04=t.m04+n.m04*a;m.m05=t.m05+n.m05*a;m.m06=t.m06+n.m06*a;m.m07=t.m07+n.m07*a;m.m08=t.m08+n.m08*a;m.m09=t.m09+n.m09*a;m.m10=t.m10+n.m10*a;m.m11=t.m11+n.m11*a;m.m12=t.m12+n.m12*a;m.m13=t.m13+n.m13*a;m.m14=t.m14+n.m14*a;m.m15=t.m15+n.m15*a;return m};E.exactEquals=function(m,t){return m.m00===t.m00&&m.m01===t.m01&&m.m02===t.m02&&m.m03===t.m03&&m.m04===t.m04&&m.m05===t.m05&&m.m06===t.m06&&m.m07===t.m07&&m.m08===t.m08&&m.m09===t.m09&&m.m10===t.m10&&m.m11===t.m11&&m.m12===t.m12&&m.m13===t.m13&&m.m14===t.m14&&m.m15===t.m15};E.equals=function(m,t){let n=m.m00,r=m.m01,u=m.m02,e=m.m03,i=m.m04,o=m.m05,s=m.m06,h=m.m07,c=m.m08,M=m.m09,f=m.m10,x=m.m11,y=m.m12,z=m.m13,l=m.m14,w=m.m15;let b=t.m00,d=t.m01,p=t.m02,q=t.m03,g=t.m04,v=t.m05,A=t.m06,S=t.m07,D=t.m08,L=t.m09,R=t.m10,E=t.m11,I=t.m12,P=t.m13,T=t.m14,j=t.m15;return Math.abs(n-b)<=a*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-d)<=a*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(u-p)<=a*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(e-q)<=a*Math.max(1,Math.abs(e),Math.abs(q))&&Math.abs(i-g)<=a*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-v)<=a*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-A)<=a*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(h-S)<=a*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(c-D)<=a*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(M-L)<=a*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(f-R)<=a*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(x-E)<=a*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(y-I)<=a*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(z-P)<=a*Math.max(1,Math.abs(z),Math.abs(P))&&Math.abs(l-T)<=a*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(w-j)<=a*Math.max(1,Math.abs(w),Math.abs(j))};m.vec2=z;m.vec3=w;m.vec4=d;m.quat=v;m.mat2=S;m.mat23=L;m.mat3=q;m.mat4=E;m.EPSILON=a;m.equals=r;m.approx=u;m.clamp=e;m.clamp01=i;m.powof2=o;m.lerp=s;m.toRadian=h;m.toDegree=c;m.random=M;m.randomRange=f;m.randomRangeInt=x})(this.vmath=this.vmath||{});
//# sourceMappingURL=./dist/vmath.min.js.map